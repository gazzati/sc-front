{"version":3,"sources":["components/Dialogs/style.module.css","components/Profile/ProfileEditForm/style.module.css","assets/images/leftArrowIcon.svg","assets/images/rightArrowIcon.svg","assets/images/preloader.svg","assets/images/preloaderMini.svg","assets/images/contacts/vk.svg","assets/images/contacts/instagram.svg","assets/images/contacts/github.svg","assets/images/contacts/twitter.svg","assets/images/contacts/youtube.svg","assets/images/contacts/facebook.svg","components/Header/style.module.css","assets/images/like.png","assets/images/removePost.svg","assets/images/reactIcon.png","assets/images/userLogIcon.png","components/BackgroundEffect/style.module.css","components/Profile/ProfileInfo/style.module.css","components/Profile/Posts/style.module.css","assets/images/user.png","components/News/style.module.css","components/Users/style.module.css","components/Follow/style.module.css","components/Settings/style.module.css","components/Login/style.module.css","components/common/Paginator/Paginator.module.css","serviceWorker.js","api/index.ts","api/profile-api.ts","redux/profile-reducer.ts","api/dialogs-api.ts","redux/dialogs-reducer.ts","api/users-api.ts","redux/users-reducer.ts","api/auth-api.ts","redux/auth-reducer.ts","api/news-api.ts","redux/news-reducer.ts","redux/settings-reducer.ts","api/follow-api.ts","redux/follow-reducer.ts","redux/index.ts","components/Users/User.tsx","components/common/Paginator/index.tsx","components/common/Preloader/index.tsx","components/Users/Users.tsx","components/Users/index.tsx","components/Navbar/Icons.tsx","components/Navbar/index.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/index.tsx","helpers/formatDate.ts","components/Profile/Posts/Post.tsx","components/Profile/Posts/Posts.tsx","components/Profile/Posts/index.tsx","components/Profile/Profile.tsx","components/Profile/ProfileEditForm/index.tsx","hoc/withAuthRedirect.tsx","components/Profile/index.tsx","components/Dialogs/DialogItem/index.tsx","components/Dialogs/Message/index.tsx","components/Dialogs/AddMessageForm/index.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/index.tsx","components/Header/index.tsx","components/Login/LoginForm.tsx","components/Login/RegistrationForm.tsx","components/Login/index.tsx","components/Settings/index.tsx","components/News/NewsItem.tsx","components/News/News.tsx","components/News/index.tsx","components/Follow/FollowItem.tsx","components/Follow/index.tsx","components/BackgroundEffect/index.tsx","App.tsx","index.tsx","components/Navbar/style.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","ResultCodeEnum","ResultCodeForCaptchaEnum","instance","axios","create","withCredentials","baseURL","headers","localStorage","getItem","profileAPI","userId","get","then","res","data","status","put","photoFile","formData","FormData","append","profile","text","post","postMessage","postId","delete","initialState","_id","info","name","surname","contacts","posts","isFetching","actions","type","photo","getUserProfile","dispatch","a","profileReducer","state","action","filter","dialogsAPI","chatId","chats","messages","dialogsReducer","usersAPI","term","id","users","pageSize","totalUsersCount","currentPage","followingInProgress","setUsers","setCurrentPage","setTotalUsersCount","count","toggleIsFetching","toggleFollowingProgress","resetCurrentPage","usersReducer","authAPI","email","password","userData","isAuth","payload","getAuthUserData","resultCode","Error","Success","logout","removeItem","authReducer","getNewsData","category","news","totalNewsCount","newsReducer","isBlackThemeActivated","isDynamicBackgroundActivated","toggleBlackTheme","theme","toggleDynamicBackground","settingsReducer","document","documentElement","setAttribute","setItem","followApi","following","followers","totalFriendsCount","unfollowingInProgress","followReducer","user","rootReducer","combineReducers","profilePage","dialogsPage","usersPage","auth","settings","follow","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","User","currentUserId","unfollow","className","s","userContainer","to","src","userPhoto","alt","descriptionUser","fol","includes","onClick","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","styles","paginator","container","leftArrowIcon","button","buttonHidden","p","map","selectedPage","pageNumber","key","e","rightArrowIcon","Preloader","matchMedia","matches","preloader","preloaderMini","Users","props","searchTerm","setSearchTerm","search","onSubmit","preventDefault","searchUsers","placeholder","value","onChange","target","usersBlock","u","connect","getState","getUsers","page","searchRequest","setSearchRequest","useEffect","newSearchRequest","ProfileIco","xmlns","viewBox","fill","transform","d","DialogsIco","FollowIco","NewsIco","SettingsIco","SignOut","UsersIco","navbar","link","activeClassName","activeItem","item","hideOnMobile","itemLogout","ProfileStatusWithHooks","editMode","setEditMode","setStatus","deactivateEditMode","updateStatus","statusEdit","currentTarget","onKeyPress","onBlur","autoFocus","isOwner","ProfileData","description","aboutMe","lookingForAJob","skills","lookingForAJobDescription","contactsList","Object","keys","contactTitle","contactValue","Contact","href","rel","github","gitHubIcon","vk","vkIcon","facebook","instagram","twitter","youtube","ProfileInfo","goToEditMode","colorMode","setColorMode","getElementById","infoBlock","onDoubleClick","chooserColor","color","hex","String","width","colors","mainInfo","colorBlock","mainPhoto","ProfileStatus","formatDate","date","currentDate","Date","dateChanger","strDate","toString","length","isToday","getFullYear","slice","getMonth","getDate","getTime","withoutYear","Post","userInfo","userDescription","removePost","deletePost","bottomBlock","message","likes","addLikes","likeCount","likesCount","likeIcon","MyPostsMemorized","React","memo","newPostText","setNewPostText","postsElements","sort","b","postsBlock","form","addPost","onAddPost","PostsContainer","MyPosts","Profile","ProfileEditForm","savePhoto","exitOfEditMode","infoData","setInfoData","handleSubmit","editInfoBlock","topBlock","leftBlock","upload","secondP","files","htmlFor","uploadBtn","photos","largePhoto","smallPhoto","name_surname","rightBlock","checkbox","checked","contactsBlock","contactsItem","contactKey","buttons","saveBtn","withAuthRedirect","WrappedComponent","mapStateToPropsForRedirect","restProps","authorizedUserId","authId","file","saveProfile","Promise","reject","withRouter","params","history","console","error","DialogItem","currentDialog","defaultChecked","activeDialogItem","setCurrentChat","userName","Messaage","isItMe","isFirstToday","myMessage","hr","hrText","hrLine","messageText","messageDate","AddMessageForm","sendMessage","setMessageText","onMessageSend","Dialogs","haveTodayMessage","messagesElements","m","Message","senderId","lastMessage","scrollIntoView","dialogs","dialogsItems","index","title","currentChat","isLoading","messagesBlock","noMessages","getAllDialogs","isCurrentChatChanged","setIsCurrentChatChanged","showMenu","setShowMenu","showUserMenu","header","headerWrap","mainIcon","logoLink","reactIcon","logo","userBlock","isAuthUserBlock","userLogName","function","userLogIcon","login","popup","content","night","label","switchOn","exit","LoginForm","setEmail","setPassword","RegistrationForm","setName","setSurname","registration","autoComplete","authToken","loginPage","settingsItem","NewsItem","newsItem","publishedAt","formattedDate","newsContainer","newItem","url","img","urlToImage","publish","source","News","onCategoryChanged","select","defaultValue","onCategoryChange","newsList","n","getNews","totalResults","articles","FollowItem","onSendMessage","friend","disabled","some","getFollow","startChat","newChatId","useHistory","chat","participants","friendsBlock","friends","BackgroundEffect","getAttribute","bg","particles","opacity","number","size","random","anim","speed","size_min","line_linked","enable","move","direction","out_mode","interactivity","events","onhover","mode","onclick","modes","repulse","distance","duration","AppContainer","exact","path","render","MainApp","ReactDOM","navigator","serviceWorker","ready","unregister"],"mappings":"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","file":"static/js/main.55828736.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"style_dialogs__EEtq4\",\"dialogsItems\":\"style_dialogsItems__3UUPQ\",\"item\":\"style_item__1Pz_A\",\"activeDialogItem\":\"style_activeDialogItem__-Wgck\",\"userName\":\"style_userName__Pu5HG\",\"messages\":\"style_messages__2JX2H\",\"noMessages\":\"style_noMessages__2NQLU\",\"messagesBlock\":\"style_messagesBlock__3zZDt\",\"hr\":\"style_hr__2gxBz\",\"hrText\":\"style_hrText__2OGWJ\",\"hrLine\":\"style_hrLine__3Hrsk\",\"message\":\"style_message__2h9vd\",\"myMessage\":\"style_myMessage__1y6UH\",\"messageDate\":\"style_messageDate__36F6m\",\"form\":\"style_form__3dcBm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editInfoBlock\":\"style_editInfoBlock__3jcT_\",\"topBlock\":\"style_topBlock__3Dx8_\",\"contactsBlock\":\"style_contactsBlock__2mjs-\",\"leftBlock\":\"style_leftBlock__fyXkQ\",\"upload\":\"style_upload__1CB9S\",\"name_surname\":\"style_name_surname__3CSR4\",\"name\":\"style_name__1ng2N\",\"uploadBtn\":\"style_uploadBtn__3E2L1\",\"photos\":\"style_photos__3eBB2\",\"largePhoto\":\"style_largePhoto__3zO1m\",\"smallPhoto\":\"style_smallPhoto__118YR\",\"rightBlock\":\"style_rightBlock__3kbc7\",\"checkbox\":\"style_checkbox__1wv2B\",\"secondP\":\"style_secondP__3mhJO\",\"contacts\":\"style_contacts__1O4xf\",\"contactsItem\":\"style_contactsItem__3oA_b\",\"contactKey\":\"style_contactKey__3xibe\",\"contactValue\":\"style_contactValue__1eM2W\",\"buttons\":\"style_buttons__3L2KE\",\"saveBtn\":\"style_saveBtn__3gz2S\"};","module.exports = __webpack_public_path__ + \"static/media/leftArrowIcon.38f3d53c.svg\";","module.exports = __webpack_public_path__ + \"static/media/rightArrowIcon.70de6af4.svg\";","module.exports = __webpack_public_path__ + \"static/media/preloader.d341c6cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/preloaderMini.2b8638d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/vk.f5207225.svg\";","module.exports = __webpack_public_path__ + \"static/media/instagram.ed1683c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/github.dbf7b3f2.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter.b2de10d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube.0adb6b68.svg\";","module.exports = __webpack_public_path__ + \"static/media/facebook.cdf0ae9b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__3K9s9\",\"headerWrap\":\"style_headerWrap__jmacz\",\"mainIcon\":\"style_mainIcon__2oSdW\",\"logoLink\":\"style_logoLink__31IRo\",\"logo\":\"style_logo__2HNt7\",\"title\":\"style_title__OUCBC\",\"isAuthUserBlock\":\"style_isAuthUserBlock__2Ts0_\",\"userLogName\":\"style_userLogName__2PRIf\",\"userPhoto\":\"style_userPhoto__2qa13\",\"function\":\"style_function__1z4uY\",\"popup\":\"style_popup__2xo9x\",\"content\":\"style_content__27wWY\",\"night\":\"style_night__2N8WK\",\"exit\":\"style_exit__2Xmnb\",\"button\":\"style_button__VhASm\",\"switchOn\":\"style_switchOn__3KCyS\",\"label\":\"style_label__3X8Um\",\"login\":\"style_login__2esE-\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAABHNCSVQICAgIfAhkiAAAA5pJREFUaEPtWktS20AQ7bYNlORFyAlCThBygpgTAAswO+xtSg7kBFFuYIKSLbBDZgGcAHMCzAminCDOwnIZsDo1suTIRv+RkKzKVFF2yTPd/bpbb3p6QCjowILigv/APu48rJfxaZ8Q1hFgDSZ/5iCALhL0EKn7Ta1ex8mCT/XBJhHWLPk1hwyNADQmf0yVsx8Xy70w8gMjJtX1AySSAXE1jEAA0AxC+XtHOAsz35QPcOh0lO86oj4hyooqHvnN8wQm7Q1rSHQSWuGcFiLqGbTU9PIwy4ASPp4g4noYB7jM0QixqZwLXbf1rsBaO8MGlExQfIN5t1TanlduOs0wLiNkgbcdBjaPL4TT+QnPgEm7AxkRv/AhmlvtUJ6Y02ZVfD5Wxbbz0QwwaXewhYiXiYIy2YX6Y1raYF/L+HiTSKSep/620qle2Y+nwA73hmtjw7hLQ+mEOqlvfoYnoWj+JeqXS6X37XNBM9XYq6W6foMATpqNJjgHs9m2o6iimRkmMIsBb3JgG7cJhLjByGoCrADRsj1iRw0Pt2h1vDL8ze2qHAkoj4TXmBoTZgiUiLYZsFNE3M/QjsRVE9EZtnb1LiB8SFx6lgIJblnE7jjqtSzN99TN6lRs1XXKpXWcRhUXmFTXNQR4w+mgXC0ngF/FJY9WXWcV8WauXM5vzDWmdD7iN41HgoFNNI8rRD955ORtbRnxrVUED3oI+C5vBsaxh4DuFbXKOmkAhUpHqw3hPGguPO0zmldU0ex3ToEVIWqsqrf7HjPNnIUuiAlujzvitLUxA4wdOp+WdQ0RX8V5cbNaQ0R/Kg/iWvsKJw0jZyraDxax/2H3OZyOde0ES3W9jQAHWUUgil4COFJUkfX+Z4Z3734BTtbspKx0qg03R/jetuS5beAHyvUdc6I3yWRF7+auKpljwMgRmxJKjtIyKFKerOj14uYhLcOCCkzFeZBZgosCKjIwtiCV+7MAfieir0qnKkfZBgLvoN2EvWhd6XFjGQQyFjArclsAwLrIqZRfrEwCgIbzMi8ITGDlEVaAdUHeTRocA2XQUi3svz7Epns/oEnvdewEXBmJNWdBG9bRiUXMFmRdRbGbe95u13V5JDR4QcViRT/v8WwHUek8KIqxycNLcCzGjMl8fuASBxaFMXmZ78WBMYVBjJkE82UCjCn1YsykmC8zYP/ADWUgmhwIEU8rI0FOgvkyBRbEXmn9ngp5pGVsFLmFBfYXww2rWDXAoPkAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/removePost.e4585826.svg\";","module.exports = __webpack_public_path__ + \"static/media/reactIcon.a79469da.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAcJJREFUaEPt2eFNwzAQBeB3GzACG8AIMAGMUCZgFZgARmgngBHoBDBCNzjkkKAoTZqL43NyzvVPJctq7/O7OJJN2NiHNuaFg0tP3BP2hAtbAW/pwgI943jCnnBhK7DNlmbmKwA3AI5EdCop1K6NmPkWwAeAgA7YJyLal4Bm5kcAby3bfQB/A7juAAP63TKamXc1ts34CmAegJlFD2ArZgC/AHguBX0JC+A1gMOz+1lvWn1uM0mPYI8A7qrXUgloEZbo9P8etoyWYqtnuN3DFtFTsGdga+09FdsLtoKOwQ6C146OxV4ErxU9BzsKXht6LlYEXgs6BVYMXhqdCjsJvBQ6JXYyODc6NTYKnAutgY0Ga6O1sLPAWmhN7GxwarQ2Ngk4FToHNhl4LjoXNik4Fp0Tmxw8FZ0bqwKWosO8nnPjehh/B24KtyBqd0uC46IG1/1Ww6ol3Agi0KpYdbCwvdXbuN1Cai3d/hNB0urJNvVkAY8knQ2bpaV7kg63kg/1+AHATmM3HtoRsyXcgVfXs0T0M1SY1vgiYC2M5HcdLFkly3M8YcvpSWr3hCWrZHmOJ2w5PUntnrBklSzP8YQtpyep/RfNU0bbS1qVmwAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"style_bg__27ibg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"style_profile__18jaY\",\"infoBlock\":\"style_infoBlock__2imYR\",\"mainInfo\":\"style_mainInfo__2TOtg\",\"colorBlock\":\"style_colorBlock__5TIBF\",\"chooserColor\":\"style_chooserColor__2RJnn\",\"mainPhoto\":\"style_mainPhoto__2Q_nZ\",\"name\":\"style_name__JMrPS\",\"status\":\"style_status__DeJCD\",\"description\":\"style_description__2771W\",\"aboutMe\":\"style_aboutMe__31RY_\",\"skills\":\"style_skills__1y_TV\",\"contactsList\":\"style_contactsList__NvSJ4\",\"contacts\":\"style_contacts__Od98V\",\"gitHubIcon\":\"style_gitHubIcon__1jI6k\",\"vkIcon\":\"style_vkIcon__2Rv0A\",\"statusEdit\":\"style_statusEdit__1dIzt\",\"edit\":\"style_edit__UtJt4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"style_postsBlock__1cKCr\",\"form\":\"style_form__3gU2w\",\"posts\":\"style_posts__3Z7TU\",\"item\":\"style_item__2gsLj\",\"user\":\"style_user__368UM\",\"userInfo\":\"style_userInfo__3iff9\",\"userPhoto\":\"style_userPhoto__1lENS\",\"userDescription\":\"style_userDescription__32vv9\",\"name\":\"style_name__VxL-z\",\"date\":\"style_date__3uwBe\",\"removePost\":\"style_removePost__3_tdy\",\"bottomBlock\":\"style_bottomBlock__8fa-d\",\"text\":\"style_text__2qohd\",\"likes\":\"style_likes__3PsXu\",\"likeCount\":\"style_likeCount__35-uc\",\"button\":\"style_button__31rtJ\"};","module.exports = __webpack_public_path__ + \"static/media/user.fbe89cad.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"style_news__1539b\",\"topBlock\":\"style_topBlock__10JXV\",\"select\":\"style_select__3r1Ue\",\"newsList\":\"style_newsList__2DlZh\",\"newsContainer\":\"style_newsContainer__2hjDf\",\"newItem\":\"style_newItem__sz16b\",\"img\":\"style_img__3ntkB\",\"title\":\"style_title__orVb3\",\"description\":\"style_description__2uBGF\",\"info\":\"style_info__32-IV\",\"publish\":\"style_publish__1f9d6\",\"date\":\"style_date__bQG6H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"style_users__2Wffb\",\"search\":\"style_search__3DJzg\",\"usersBlock\":\"style_usersBlock__3Pgci\",\"userContainer\":\"style_userContainer__1KGab\",\"user\":\"style_user__2cUrw\",\"photo\":\"style_photo__33R6U\",\"fol\":\"style_fol__HkXCl\",\"descriptionUser\":\"style_descriptionUser__37HV9\",\"name\":\"style_name__1RHtV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"style_friendsBlock__E275o\",\"friends\":\"style_friends__3gZw2\",\"friend\":\"style_friend__3PbWM\",\"pag\":\"style_pag__E9nFj\",\"photo\":\"style_photo__3Gpkk\",\"name\":\"style_name__AZ3Jf\",\"descriptionUser\":\"style_descriptionUser__1I3Ju\",\"buttons\":\"style_buttons__2-8J4\",\"unfollow\":\"style_unfollow__1GP9j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"style_settings__1Lfih\",\"settingsItem\":\"style_settingsItem__1i2Vx\",\"label\":\"style_label__3IEHY\",\"button\":\"style_button__24n5u\",\"switchOn\":\"style_switchOn__10gJ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"style_loginPage__YRFrs\",\"login\":\"style_login__1NF5H\",\"registration\":\"style_registration__fckjD\",\"button\":\"style_button__yf9iN\",\"name\":\"style_name__3ELt-\",\"surname\":\"style_surname__2AORr\",\"mail\":\"style_mail__2DJEW\",\"password\":\"style_password__2PP1u\",\"s1\":\"style_s1__1IRlU\",\"s2\":\"style_s2__1grRy\",\"s3\":\"style_s3__xeQ39\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3VNH-\",\"container\":\"Paginator_container__1G6du\",\"pageNumber\":\"Paginator_pageNumber__1YauB\",\"selectedPage\":\"Paginator_selectedPage__1Xoc2\",\"button\":\"Paginator_button__3CJ3c\",\"buttonHidden\":\"Paginator_buttonHidden__2XNta\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config)\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                        'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n                    )\r\n                })\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing\r\n                if (installingWorker == null) {\r\n                    return\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n                            )\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration)\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.')\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error)\r\n        })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type')\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload()\r\n                    })\r\n                })\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config)\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                'No internet connection found. App is running in offline mode.'\r\n            )\r\n        })\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister()\r\n        })\r\n    }\r\n}\r\n","import axios from 'axios'\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    //baseURL: 'http://localhost:4000/api',\r\n    baseURL: 'https://gazzati-sc-backend.herokuapp.com/api',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n        'authToken': localStorage.getItem('authToken')\r\n    }\r\n})\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptchaEnum {\r\n    CaptchaIsRequired = 10,\r\n}\r\n\r\nexport type GetItemsType<I> = {\r\n    items: Array<I>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\nexport type APIResponseType<D = {}, RC = ResultCodeEnum> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}\r\n","import {PostType, ProfileType} from '../types/types'\r\nimport {instance, APIResponseType} from './'\r\n\r\ntype SavePhotoResponseDataType = {\r\n    photo: string\r\n}\r\n\r\ntype PostsType = {\r\n    posts: PostType[]\r\n}\r\n\r\ntype PostId = {\r\n    postId: string\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get<APIResponseType<ProfileType>>(`profile/` + userId).then(res => res.data.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`profile/status/`, { status }).then(res => res.data)\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo/`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<APIResponseType<ProfileType>>(`profile`, profile).then(res => res.data)\r\n    },\r\n    addPost(text: string) {\r\n        return instance.post<APIResponseType<PostsType>>(`profile/post`, { postMessage: text }).then(res => res.data)\r\n    },\r\n    addLike(postId: string) {\r\n        return instance.put<APIResponseType<PostsType>>(`profile/like`, { postId }).then(res => res.data)\r\n    },\r\n    deletePost(postId: string) {\r\n        return instance.delete<APIResponseType<PostId>>(`profile/post${postId}`).then(res => res.data)\r\n    }\r\n}\r\n","import {PostType, ProfileType} from '../types/types'\r\nimport {profileAPI} from '../api/profile-api'\r\nimport {BaseThunkType, InferActionsTypes} from './'\r\n\r\nlet initialState = {\r\n    profile: {\r\n        _id: 'emty',\r\n        info: {\r\n            name: '',\r\n            surname: '',\r\n            contacts: {}\r\n        },\r\n        status: '',\r\n        posts: []\r\n    } as ProfileType,\r\n    isFetching: true\r\n}\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'profile/SET_STATUS': {\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    status: action.status\r\n                }\r\n\r\n            }\r\n        }\r\n        case 'profile/SET_USER_PROFILE': {\r\n            return { ...state, profile: action.profile }\r\n        }\r\n        case 'profile/SAVE_PHOTO_SUCCESS': {\r\n            return { ...state, profile: { ...state.profile, photo: action.photo } as ProfileType }\r\n        }\r\n        case 'profile/REFRESH_POSTS': {\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    posts: action.posts\r\n                }\r\n            }\r\n        }\r\n        case 'profile/DELETE_POST': {\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    posts: state.profile.posts.filter(post => post._id !== action.postId)\r\n                }\r\n            }\r\n        }\r\n        case 'profile/TOGGLE_IS_FETCHING': {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setUserProfile: (profile: ProfileType) => ({ type: 'profile/SET_USER_PROFILE', profile } as const),\r\n    setStatus: (status: string) => ({ type: 'profile/SET_STATUS', status } as const),\r\n    savePhotoSuccess: (photo: string) => ({ type: 'profile/SAVE_PHOTO_SUCCESS', photo } as const),\r\n    refreshPostsActionCreator: (posts: PostType[]) => ({ type: 'profile/REFRESH_POSTS', posts } as const),\r\n    deletePostActionCreator: (postId: string) => ({ type: 'profile/DELETE_POST', postId } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'profile/TOGGLE_IS_FETCHING', isFetching } as const)\r\n}\r\n\r\nexport const getUserProfile = (userId: string): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId)\r\n    dispatch(actions.setUserProfile(data))\r\n    dispatch(actions.toggleIsFetching(false))\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.updateStatus(status)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.savePhoto(file)\r\n    dispatch(actions.savePhotoSuccess(data.data.photo))\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch) => {\r\n    let res = await profileAPI.saveProfile(profile)\r\n    if (res.resultCode === 0) {\r\n        dispatch(actions.setUserProfile(res.data))\r\n    } else {\r\n        return Promise.reject(res.messages[0])\r\n    }\r\n}\r\n\r\nexport const addPost = (text: string): ThunkType => async (dispatch) => {\r\n    let res = await profileAPI.addPost(text)\r\n    dispatch(actions.refreshPostsActionCreator(res.data.posts))\r\n}\r\n\r\nexport const addLikes = (postId: string): ThunkType => async (dispatch) => {\r\n    let res = await profileAPI.addLike(postId)\r\n    dispatch(actions.refreshPostsActionCreator(res.data.posts))\r\n}\r\n\r\nexport const deletePost = (postId: string): ThunkType => async (dispatch) => {\r\n    let res = await profileAPI.deletePost(postId)\r\n    dispatch(actions.deletePostActionCreator(res.data.postId))\r\n}\r\n\r\nexport default profileReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType>\r\n","import {instance, APIResponseType} from './'\r\nimport {ChatsAndMessagesType} from '../types/types'\r\n\r\nexport const dialogsAPI = {\r\n    getAllDialogs(chatId: string) {\r\n        return instance.get<APIResponseType<ChatsAndMessagesType>>(`chats/${chatId}`).then(res => res.data)\r\n    },\r\n    startDialog(userId: string) {\r\n        return instance.put<APIResponseType<ChatsAndMessagesType & {newChatId: string}>>(`chats/start/${userId}`).then(res => res.data)\r\n    },\r\n    sendMessage(chatId: string, text: string) {\r\n        return instance.post<APIResponseType<ChatsAndMessagesType>>(`chats/send${chatId}`, { text }).then(res => res.data)\r\n    }\r\n}\r\n","import {BaseThunkType, InferActionsTypes} from './'\r\nimport {dialogsAPI} from '../api/dialogs-api'\r\nimport {ChatType, MessageType, ChatsAndMessagesType} from '../types/types'\r\n\r\nlet initialState = {\r\n    chats: [] as ChatType[],\r\n    messages: [] as MessageType[],\r\n    isFetching: false\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'dialogs/SET_DATA': {\r\n            return {\r\n                ...state,\r\n                chats: action.data.chats,\r\n                messages: action.data.messages\r\n            }\r\n        }\r\n        case 'dialogs/TOGGLE_IS_FETCHING': {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setData: (data: ChatsAndMessagesType) => ({ type: 'dialogs/SET_DATA', data } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'dialogs/TOGGLE_IS_FETCHING', isFetching } as const)\r\n}\r\n\r\nexport const startChat = (userId: string): ThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        const res = await dialogsAPI.startDialog(userId)\r\n        dispatch(actions.setData(res.data))\r\n        dispatch(actions.toggleIsFetching(false))\r\n        return res.data.newChatId\r\n    }\r\n}\r\n\r\nexport const getAllDialogs = (chatId: string): ThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        const res = await dialogsAPI.getAllDialogs(chatId)\r\n        dispatch(actions.setData(res.data))\r\n        dispatch(actions.toggleIsFetching(false))\r\n    }\r\n}\r\n\r\nexport const sendMessage = (chatId: string, message: string): ThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        const res = await dialogsAPI.sendMessage(chatId, message)\r\n        dispatch(actions.setData(res.data))\r\n        dispatch(actions.toggleIsFetching(false))\r\n    }\r\n}\r\n\r\nexport default dialogsReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes, Promise<string | void>>\r\n","import {instance, APIResponseType} from './'\r\nimport {ProfileType} from '../types/types'\r\n\r\nexport const usersAPI = {\r\n    getUsers(term = '') {\r\n        return instance.get<APIResponseType<ProfileType[]>>(`users${term && `?term=${term}`}`).then(res => res.data)\r\n    },\r\n    follow(id: string) {\r\n        return instance.post<APIResponseType<ProfileType[]>>(`users/follow${id}`).then(res => res.data)\r\n    },\r\n    unFollow(id: string) {\r\n        return instance.delete(`users/unfollow${id}`).then(res => res.data) as Promise<APIResponseType<ProfileType[]>>\r\n    }\r\n}\r\n","import {ProfileType} from '../types/types'\r\nimport {BaseThunkType, InferActionsTypes} from './'\r\nimport {usersAPI} from '../api/users-api'\r\n\r\nlet initialState = {\r\n    users: [] as Array<ProfileType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>  //array of users ids\r\n}\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialState => {\r\n    switch (action.type) {\r\n        case 'users/SET_USERS': {\r\n            return { ...state, users: action.data }\r\n        }\r\n        case 'users/SET_CURRENT_PAGE': {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case 'users/SET_TOTAL_USERS_COUNT': {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n        case 'users/TOGGLE_IS_FETCHING': {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case 'users/TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        case 'users/RESET_CURRENT_PAGE': {\r\n            return { ...state, currentPage: 1 }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setUsers: (data: ProfileType[]) => ({ type: 'users/SET_USERS', data } as const),\r\n    setCurrentPage: (currentPage: number) => ({ type: 'users/SET_CURRENT_PAGE', currentPage } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({\r\n        type: 'users/SET_TOTAL_USERS_COUNT',\r\n        count: totalUsersCount\r\n    } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'users/TOGGLE_IS_FETCHING', isFetching } as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({\r\n        type: 'users/TOGGLE_IS_FOLLOWING_PROGRESS',\r\n        isFetching,\r\n        userId\r\n    } as const),\r\n    resetCurrentPage: () => ({ type: 'users/RESET_CURRENT_PAGE' } as const)\r\n}\r\n\r\n/*export const requestUsers = (page: number, pageSize: number, term: string): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true));   //???\r\n        dispatch(actions.setCurrentPage(page))\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize, term)\r\n        dispatch(actions.toggleIsFetching(false));\r\n        dispatch(actions.setUsers(data.items));\r\n        dispatch(actions.setTotalUsersCount(data.totalCount))\r\n    }\r\n}*/\r\n\r\n// const _followUnfollowFlow = async (dispatch: Dispatch<ActionsTypes>, userId: string, apiMethod: any, actionCreator: (userId: string) => ActionsTypes) => {\r\n//     //dispatch(actions.toggleFollowingProgress(true, userId))\r\n//     let data = await apiMethod(userId)\r\n//     if (data.resultCode === ResultCodeEnum.Success) {\r\n//         dispatch(actionCreator(userId))\r\n//     }\r\n//     //dispatch(actions.toggleFollowingProgress(false, userId))\r\n// }\r\n\r\n// export const follow = (userId: string): ThunkType => {\r\n//     return async (dispatch) => {\r\n//         _followUnfollowFlow(dispatch, userId, usersAPI.Follow.bind(usersAPI), actions.followSuccess)\r\n//     }\r\n// }\r\n\r\n\r\n// export const unfollow = (userId: string): ThunkType => {\r\n//     return async (dispatch) => {\r\n//         _followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), actions.unfollowSuccess)\r\n//     }\r\n// }\r\n\r\nexport const requestUsers = (page: number, pageSize: number, term: string): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(page))\r\n\r\n        let res = await usersAPI.getUsers(term)\r\n        dispatch(actions.toggleIsFetching(false))\r\n        dispatch(actions.setUsers(res.data))\r\n        //dispatch(actions.setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const follow = (userId: string): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        let res = await usersAPI.follow(userId)\r\n        dispatch(actions.toggleIsFetching(false))\r\n        dispatch(actions.setUsers(res.data))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: string): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        let res = await usersAPI.unFollow(userId)\r\n        dispatch(actions.toggleIsFetching(false))\r\n        dispatch(actions.setUsers(res.data))\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\n\r\ntype InitialState = typeof initialState\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\n","import {instance, APIResponseType} from './'\r\n\r\ntype MeResponseDataType = {\r\n    id: string\r\n    name: string\r\n    surname: string\r\n    photo: string\r\n}\r\n\r\ntype LoginRegistrationResponseDataType = {\r\n    userData: MeResponseDataType\r\n    authToken: string\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email: string, password: string) {\r\n        return instance.post<APIResponseType<LoginRegistrationResponseDataType>>\r\n        (`auth/login`, { email, password }).then(res => res.data)\r\n    },\r\n    registration(name: string, surname: string, email: string, password: string) {\r\n        return instance.post<APIResponseType<LoginRegistrationResponseDataType>>\r\n        (`auth/registration`, { name, surname, email, password }).then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/logout`)\r\n    }\r\n}\r\n","import {ResultCodeEnum} from '../api'\r\nimport {authAPI} from '../api/auth-api'\r\nimport {BaseThunkType, InferActionsTypes} from './'\r\nimport {UserDataType} from '../types/types'\r\n\r\nlet initialState = {\r\n    userData: {\r\n        id: null,\r\n        name: null,\r\n        surname: null,\r\n        photo: null\r\n    } as UserDataType,\r\n    isAuth: false,\r\n    isFetching: false as boolean\r\n}\r\n\r\nconst authReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case 'auth/SET_USER_DATA': {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        case 'auth/TOGGLE_IS_FETCHING': {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setAuthUserData: (userData: UserDataType, isAuth: boolean) =>\r\n        ({ type: 'auth/SET_USER_DATA', payload: { userData, isAuth } } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'auth/TOGGLE_IS_FETCHING', isFetching } as const)\r\n}\r\n\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleIsFetching(true))\r\n    let res = await authAPI.me()\r\n    if (res.resultCode === ResultCodeEnum.Error) {\r\n        dispatch(actions.toggleIsFetching(false))\r\n    }\r\n    if (res.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(actions.setAuthUserData(res.data, true))\r\n        dispatch(actions.toggleIsFetching(false))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string): ThunkType =>\r\n    async (dispatch: any) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        let res = await authAPI.login(email, password)\r\n        if (res.resultCode === ResultCodeEnum.Success) {\r\n            localStorage.setItem('authToken', res.data.authToken)\r\n            dispatch(actions.setAuthUserData(res.data.userData, true))\r\n            dispatch(actions.toggleIsFetching(false))\r\n        }\r\n    }\r\n\r\nexport const registration = (name: string, surname: string, email: string, password: string): ThunkType =>\r\n    async (dispatch: any) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        let res = await authAPI.registration(name, surname, email, password)\r\n        if (res.resultCode === ResultCodeEnum.Success) {\r\n            localStorage.setItem('authToken', res.data.authToken)\r\n            dispatch(actions.setAuthUserData(res.data.userData, true))\r\n        }\r\n        dispatch(actions.toggleIsFetching(false))\r\n    }\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        localStorage.removeItem('authToken')\r\n        dispatch(actions.setAuthUserData({ id: null, name: null, surname: null, photo: null }, false))\r\n    }\r\n}\r\n\r\nexport default authReducer\r\n\r\ntype initialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType>\r\n","import axios from 'axios'\r\nimport {NewsType} from '../types/types'\r\n\r\ntype NewsResponseType = {\r\n    totalResults: number\r\n    status: string\r\n    articles: Array<NewsType>\r\n}\r\n\r\nconst apiKey = '3d368681f4414a9fb4ffa48ef6d52ea6'\r\n\r\nexport const getNewsData = (currentPage: number, pageSize: number, category: string) => {\r\n    return axios.get<NewsResponseType>(`https://newsapi.org/v2/top-headlines?` +\r\n        `category=${category}&country=ru&apiKey=${apiKey}&pageSize=${pageSize}&page=${currentPage}`)\r\n        .then(res => res.data)\r\n\r\n}\r\n","import {NewsType} from '../types/types'\r\nimport {AppStateType, InferActionsTypes} from './'\r\nimport {ThunkAction} from 'redux-thunk'\r\nimport {getNewsData} from '../api/news-api'\r\n\r\nlet initialState = {\r\n    news: [] as Array<NewsType>,\r\n    isFetching: true as boolean,\r\n    pageSize: 5 as number,\r\n    totalNewsCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    category: 'general' as string\r\n}\r\n\r\ntype InitialState = typeof initialState\r\n\r\nconst newsReducer = (state = initialState, action: ActionsTypes): InitialState => {\r\n    switch (action.type) {\r\n        case 'SET_NEWS':\r\n            return {\r\n                ...state,\r\n                news: action.news\r\n            }\r\n        case 'SET_CURRENT_PAGE': {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case 'SET_TOTAL_NEWS_COUNT': {\r\n            return { ...state, totalNewsCount: action.count }\r\n        }\r\n        case 'SET_CATEGORY': {\r\n            return { ...state, category: action.category }\r\n        }\r\n        case 'TOGGLE_IS_FETCHING': {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\n\r\nexport const actions = {\r\n    setNews: (news: Array<NewsType>) => ({ type: 'SET_NEWS', news } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'TOGGLE_IS_FETCHING', isFetching } as const),\r\n    setCurrentPage: (currentPage: number) => ({ type: 'SET_CURRENT_PAGE', currentPage } as const),\r\n    setTotalNewsCount: (totalNewsCount: number) => ({ type: 'SET_TOTAL_NEWS_COUNT', count: totalNewsCount } as const),\r\n    setCategory: (category: string) => ({ type: 'SET_CATEGORY', category } as const)\r\n}\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const getNews = (page: number, pageSize: number, category: string): ThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(page))\r\n        dispatch(actions.setCategory(category))\r\n\r\n        let data = await getNewsData(page, pageSize, category)\r\n        dispatch(actions.setTotalNewsCount(data.totalResults))\r\n        dispatch(actions.setNews(data.articles))\r\n        dispatch(actions.toggleIsFetching(false))\r\n    }\r\n}\r\n\r\nexport default newsReducer\r\n","const TOGGLE_BLACK_THEME = 'settings/TOGGLE_BLACK_THEME'\r\nconst TOGGLE_DYNAMIC_BACKGROUND = 'settings/TOGGLE_DYNAMIC_BACKGROUND'\r\n\r\nlet initialState = {\r\n    isBlackThemeActivated: false,\r\n    isDynamicBackgroundActivated: false\r\n}\r\n\r\nconst settingsReducer = (state = initialState, action: any): InitialState => {\r\n    switch (action.type) {\r\n        case TOGGLE_BLACK_THEME: {\r\n            const theme = action.theme ? 'light' : 'dark'\r\n            document.documentElement.setAttribute('data-theme', theme)\r\n            localStorage.setItem('black-theme', theme)\r\n            return {\r\n                ...state,\r\n                isBlackThemeActivated: !action.theme\r\n            }\r\n        }\r\n        case TOGGLE_DYNAMIC_BACKGROUND: {\r\n            const theme = action.theme ? 'false' : 'true'\r\n            localStorage.setItem('dynamic-bg', theme)\r\n            return {\r\n                ...state,\r\n                isDynamicBackgroundActivated: !action.theme\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype ToggleBlackThemeActionType = { type: typeof TOGGLE_BLACK_THEME, theme: boolean }\r\n\r\ntype ToggleDynamicBackgroundType = { type: typeof TOGGLE_DYNAMIC_BACKGROUND, theme: boolean }\r\n\r\nexport const toggleBlackTheme = (theme: boolean): ToggleBlackThemeActionType => ({ type: TOGGLE_BLACK_THEME, theme })\r\nexport const toggleDynamicBackground = (theme: boolean): ToggleDynamicBackgroundType => ({ type: TOGGLE_DYNAMIC_BACKGROUND, theme })\r\n\r\nexport default settingsReducer\r\n\r\ntype InitialState = typeof initialState\r\n","import {instance, APIResponseType} from './'\r\nimport {ProfileType} from '../types/types'\r\n\r\nexport const followApi = {\r\n    getFollowing(currentPage = 1, pageSize = 10) {\r\n        return instance.get<APIResponseType<ProfileType[]>>(`users/following`).then(res => res.data)\r\n    },\r\n    getFollowers(currentPage = 1, pageSize = 10) {\r\n        return instance.get<APIResponseType<ProfileType[]>>(`users/followers`).then(res => res.data)\r\n    }\r\n}\r\n","import {ProfileType} from '../types/types'\r\nimport {BaseThunkType, InferActionsTypes} from './'\r\nimport {followApi} from '../api/follow-api'\r\nimport {usersAPI} from '../api/users-api'\r\nimport { ResultCodeEnum } from '../api'\r\n\r\nlet initialState = {\r\n    following: [] as ProfileType[],\r\n    followers: [] as ProfileType[],\r\n    pageSize: 8,\r\n    totalFriendsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    unfollowingInProgress: [] as Array<string>  //array of users ids\r\n}\r\n\r\nconst followReducer = (state = initialState, action: ActionsTypes): InitialState => {\r\n    switch (action.type) {\r\n        case 'follow/SET_FOLLOWING': {\r\n            return { ...state, following: action.following }\r\n        }\r\n        case 'follow/SET_FOLLOWERS': {\r\n            return { ...state, followers: action.followers }\r\n        }\r\n        case 'follow/SET_CURRENT_PAGE': {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case 'follow/SET_TOTAL_USERS_COUNT': {\r\n            return { ...state, totalFriendsCount: action.count }\r\n        }\r\n        case 'follow/TOGGLE_IS_FETCHING': {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case 'follow/UNFOLLOW': {\r\n            return { ...state, following: state.following.filter(user => user._id !== action.userId) }\r\n        }\r\n        case 'follow/TOGGLE_IS_UNFOLLOWING_PROGRESS': {\r\n            return {\r\n                ...state,\r\n                unfollowingInProgress: action.isFetching\r\n                    ? [...state.unfollowingInProgress, action.userId]\r\n                    : state.unfollowingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    unfollowSuccess: (userId: string) => ({ type: 'follow/UNFOLLOW', userId } as const),\r\n    setFollowing: (following: ProfileType[]) => ({ type: 'follow/SET_FOLLOWING', following } as const),\r\n    setFollowers: (followers: ProfileType[]) => ({ type: 'follow/SET_FOLLOWERS', followers } as const),\r\n    setCurrentPage: (currentPage: number) => ({ type: 'follow/SET_CURRENT_PAGE', currentPage } as const),\r\n    setTotalFriendsCount: (totalUsersCount: number) => ({\r\n        type: 'follow/SET_TOTAL_USERS_COUNT',\r\n        count: totalUsersCount\r\n    } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'follow/TOGGLE_IS_FETCHING', isFetching } as const),\r\n    toggleUnfollowingProgress: (isFetching: boolean, userId: string) => ({\r\n        type: 'follow/TOGGLE_IS_UNFOLLOWING_PROGRESS',\r\n        isFetching,\r\n        userId\r\n    } as const)\r\n}\r\n\r\n// export const requestFriends = (page: number, pageSize: number): ThunkType => {\r\n//     return async (dispatch, getState) => {\r\n//         dispatch(actions.toggleIsFetching(true));   //???\r\n//         dispatch(actions.setCurrentPage(page))\r\n\r\n//         let data = await followApi.getFriends(page, pageSize)\r\n//         dispatch(actions.toggleIsFetching(false));\r\n//         dispatch(actions.setFriends(data.items));\r\n//         dispatch(actions.setTotalFriendsCount(data.totalCount))\r\n//     }\r\n// }\r\n\r\nexport const getFollow = (type: 'followers' | 'following'): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        //dispatch(actions.setCurrentPage(page))\r\n        if(type === 'following') {\r\n            const res = await followApi.getFollowing()\r\n            dispatch(actions.setFollowing(res.data))\r\n        } else {\r\n            const res = await followApi.getFollowers()\r\n            dispatch(actions.setFollowers(res.data))\r\n        }\r\n        dispatch(actions.toggleIsFetching(false))\r\n        //dispatch(actions.setTotalFriendsCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const requestFollowers = (page: number, pageSize: number): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(page))\r\n\r\n        let res = await followApi.getFollowers()\r\n        dispatch(actions.toggleIsFetching(false))\r\n        dispatch(actions.setFollowers(res.data))\r\n        //dispatch(actions.setTotalFriendsCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: string): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        let res = await usersAPI.unFollow(userId)\r\n        if(res.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(actions.unfollowSuccess(userId))\r\n        }\r\n        dispatch(actions.toggleIsFetching(false))\r\n    }\r\n}\r\n\r\nexport default followReducer\r\n\r\ntype InitialState = typeof initialState\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\n","import {Action, applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk'\r\nimport newsReducer from './news-reducer'\r\nimport settingsReducer from './settings-reducer'\r\nimport followReducer from './follow-reducer'\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    news: newsReducer,\r\n    settings: settingsReducer,\r\n    follow: followReducer\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer; // (globalstate: AppStateType) => AppStateType\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n// @ts-ignore\r\nwindow.__store__ = store\r\n\r\nexport default store\r\n","import React, {FC} from 'react'\r\nimport s from './style.module.css'\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {ProfileType} from '../../types/types'\r\n\r\ntype PropsType = {\r\n    user: ProfileType\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: string) => void\r\n    follow: (userId: string) => void\r\n    currentUserId: string | null\r\n}\r\n\r\nconst User: FC<PropsType> = ({ user, currentUserId, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div className={s.userContainer}>\r\n            <div className={s.user}>\r\n                <NavLink to={'profile/' + user._id}>\r\n                    <img src={user.photo ? user.photo : userPhoto}\r\n                         className={s.photo} alt={''}/>\r\n                </NavLink>\r\n                <div className={s.descriptionUser}>\r\n                    <div className={s.name}>{user.info.name}</div>\r\n                    <div>{user.status}</div>\r\n                </div>\r\n                <div className={s.fol}>\r\n                    {currentUserId && user.followers.includes(currentUserId)\r\n                        ? <button /*disabled={followingInProgress.some(id => id === user.userId)}*/\r\n                            className=\"button button--secondary\"\r\n                            onClick={() => {\r\n                                unfollow(user._id)\r\n                            }}>\r\n                            Unfollow\r\n                        </button>\r\n\r\n                        : <button /*disabled={followingInProgress.some(id => id === user.userId)}*/\r\n                            className=\"button button--primary\"\r\n                            onClick={() => {\r\n                                follow(user._id)\r\n                            }}>\r\n                            Follow\r\n                        </button>}\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default User\r\n","import React, {useState} from 'react'\r\nimport styles from './Paginator.module.css'\r\nimport cn from 'classnames'\r\nimport leftArrowIcon from '../../../assets/images/leftArrowIcon.svg'\r\nimport rightArrowIcon from '../../../assets/images/rightArrowIcon.svg'\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage?: number\r\n    onPageChanged?: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nlet Paginator: React.FC<PropsType> = ({\r\n                                          totalItemsCount, pageSize,\r\n                                          currentPage = 1,\r\n                                          onPageChanged = () => {\r\n                                          },\r\n                                          portionSize = 5\r\n                                      }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages: Array<number> = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\r\n    return <div className={cn(styles.paginator)}>\r\n        <div className={styles.container}>\r\n            <img src={leftArrowIcon} alt=\"\" className={portionNumber > 1 ? styles.button : styles.buttonHidden}\r\n                 onClick={() => {\r\n                     setPortionNumber(portionNumber - 1)\r\n                 }}/>\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <div className={cn({ [styles.selectedPage]: currentPage === p }, styles.pageNumber)}\r\n                                key={p}\r\n                                onClick={(e) => {\r\n                                    onPageChanged(p)\r\n                                }}>\r\n                        {p}\r\n                    </div>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <img src={rightArrowIcon} alt=\"\" className={styles.button}\r\n                 onClick={() => {\r\n                     setPortionNumber(portionNumber + 1)\r\n                 }}/>\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Paginator\r\n","import React from 'react'\r\nimport preloader from '../../../assets/images/preloader.svg'\r\nimport preloaderMini from '../../../assets/images/preloaderMini.svg'\r\n\r\nlet Preloader: React.FC = () => {\r\n    return <span className=\"preloader\">\r\n        <img src={window.matchMedia('(min-width: 600px)').matches ? preloader : preloaderMini} alt={''}/>\r\n    </span>\r\n}\r\n\r\nexport default Preloader\r\n","import React, {FC, useState} from 'react'\r\nimport s from './style.module.css'\r\nimport User from './User'\r\nimport Paginator from '../common/Paginator'\r\nimport {ProfileType} from '../../types/types'\r\nimport Preloader from '../common/Preloader'\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: Array<ProfileType>\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: string) => void\r\n    follow: (userId: string) => void\r\n    isFetching: boolean\r\n    searchUsers: (newSearchRequest: string) => void\r\n    currentUserId: string | null\r\n}\r\n\r\nlet Users: FC<PropsType> = (props) => {\r\n    const [searchTerm, setSearchTerm] = useState('')\r\n\r\n    const onSearch = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        props.searchUsers(searchTerm)\r\n    }\r\n\r\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const value = e.target.value\r\n        setSearchTerm(value)\r\n        props.searchUsers(value)\r\n    }\r\n\r\n    return <div className={s.users}>\r\n        {props.isFetching && <Preloader/>}\r\n        <div className={s.search}>\r\n            <h3>Find other users</h3>\r\n            <form className=\"form--primary\" onSubmit={onSearch}>\r\n                <input className=\"form--primary-input\"\r\n                       type=\"text\"\r\n                       placeholder=\"Enter your request...\"\r\n                       value={searchTerm}\r\n                       onChange={e => onChange(e)}/>\r\n                <button className=\"button button--primary form--primary-button\">Search</button>\r\n            </form>\r\n        </div>\r\n        <div className={s.usersBlock}>\r\n            {props.users.map(u =>\r\n                <User user={u}\r\n                      followingInProgress={props.followingInProgress}\r\n                      unfollow={props.unfollow}\r\n                      follow={props.follow}\r\n                      key={u._id}\r\n                      currentUserId={props.currentUserId}\r\n                />\r\n            )}\r\n        </div>\r\n        <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n               totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}/>\r\n    </div>\r\n}\r\n\r\nexport default Users\r\n","import React, {useEffect, useState} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {follow, unfollow, requestUsers, actions} from '../../redux/users-reducer'\r\nimport Users from './Users'\r\nimport {compose} from 'redux'\r\nimport {ProfileType} from '../../types/types'\r\nimport {AppStateType} from '../../redux'\r\n\r\ntype MapStatePropsType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    totalUsersCount: number\r\n    users: Array<ProfileType>\r\n    followingInProgress: Array<number>\r\n    currentUserId: string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsers: (currentPage: number, pageSize: number, term: string) => void\r\n    unfollow: (userId: string) => void\r\n    follow: (userId: string) => void\r\n    resetCurrentPage: () => void\r\n}\r\n\r\ntype OwnPropsType = {}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType\r\n\r\nconst UsersContainer: React.FC<PropsType> = (props) => {\r\n    let [searchRequest, setSearchRequest] = useState('')\r\n\r\n    useEffect(() => {\r\n        const { currentPage, pageSize } = props\r\n        props.getUsers(currentPage, pageSize, searchRequest)\r\n        // eslint-disable-next-line\r\n    }, [searchRequest])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        const { pageSize } = props\r\n        props.getUsers(pageNumber, pageSize, searchRequest)\r\n    }\r\n\r\n    const searchUsers = (newSearchRequest: string) => {\r\n        setSearchRequest(newSearchRequest)\r\n        props.resetCurrentPage()\r\n    }\r\n\r\n    return <>\r\n        <Users totalUsersCount={props.totalUsersCount}\r\n               pageSize={props.pageSize}\r\n               currentPage={props.currentPage}\r\n               onPageChanged={onPageChanged}\r\n               users={props.users}\r\n               unfollow={props.unfollow}\r\n               follow={props.follow}\r\n               followingInProgress={props.followingInProgress}\r\n               isFetching={props.isFetching}\r\n               searchUsers={searchUsers}\r\n               currentUserId={props.currentUserId}\r\n        />\r\n    </>\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        currentUserId: state.auth.userData.id\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        { follow, unfollow, getUsers: requestUsers, resetCurrentPage: actions.resetCurrentPage }\r\n    )\r\n)(UsersContainer)\r\n","import React from 'react'\r\n\r\nexport const ProfileIco: React.FC = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17.998 18\" fill=\"#9d9aa8\">\r\n            <g transform=\"translate(-260.001 -148)\">\r\n                <path\r\n                    d=\"M17.515,7.829h0L10.171.486a1.657,1.657,0,0,0-2.344,0L.489,7.824l-.007.008a1.656,1.656,0,0,0,1.1,2.823l.051,0h.293v5.4A1.942,1.942,0,0,0,3.867,18H6.74a.527.527,0,0,0,.527-.527V13.236a.886.886,0,0,1,.885-.885H9.846a.886.886,0,0,1,.885.885v4.236a.527.527,0,0,0,.527.527h2.873a1.942,1.942,0,0,0,1.94-1.939v-5.4h.271a1.657,1.657,0,0,0,1.173-2.828Zm0,0\"\r\n                    transform=\"translate(260.001 148)\"\r\n                />\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const DialogsIco: React.FC = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 17\">\r\n            <g transform=\"translate(-260 -207)\">\r\n                <path\r\n                    d=\"M15.525-.037H2.475A2.511,2.511,0,0,0,0,2.5v8.2a2.511,2.511,0,0,0,2.466,2.54v3.721l5.208-3.72h7.851A2.511,2.511,0,0,0,18,10.7V2.5a2.511,2.511,0,0,0-2.475-2.54ZM13.182,9.49H4.818V8.408h8.365Zm0-2.31H4.818V6.1h8.365Zm0-2.31H4.818V3.788h8.365Zm0,0\"\r\n                    transform=\"translate(260 207.037)\"/>\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const FollowIco: React.FC = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 18\">\r\n            <g transform=\"translate(-261 -264)\">\r\n                <g transform=\"translate(261 264)\">\r\n                    <path\r\n                        d=\"M7.386,8.671A4.182,4.182,0,0,0,10.446,7.4a4.2,4.2,0,0,0,1.267-3.065A4.2,4.2,0,0,0,10.446,1.27,4.183,4.183,0,0,0,7.386,0,4.182,4.182,0,0,0,4.327,1.27,4.2,4.2,0,0,0,3.06,4.335,4.2,4.2,0,0,0,4.327,7.4a4.183,4.183,0,0,0,3.059,1.27Zm0,0\"/>\r\n                    <path\r\n                        d=\"M14.964,13.841a10.72,10.72,0,0,0-.146-1.137,8.97,8.97,0,0,0-.279-1.144,5.652,5.652,0,0,0-.47-1.066,4.024,4.024,0,0,0-.708-.924,3.121,3.121,0,0,0-1.017-.64,3.512,3.512,0,0,0-1.3-.235,1.317,1.317,0,0,0-.7.3c-.211.138-.458.3-.733.473a4.2,4.2,0,0,1-.949.418,3.68,3.68,0,0,1-2.321,0,4.189,4.189,0,0,1-.948-.418c-.273-.175-.52-.334-.734-.474a1.315,1.315,0,0,0-.7-.3,3.507,3.507,0,0,0-1.3.236,3.119,3.119,0,0,0-1.017.64,4.024,4.024,0,0,0-.708.924,5.663,5.663,0,0,0-.47,1.067A8.991,8.991,0,0,0,.182,12.7a10.682,10.682,0,0,0-.146,1.138C.012,14.186,0,14.543,0,14.9a2.991,2.991,0,0,0,.887,2.261A3.19,3.19,0,0,0,3.171,18h8.657a3.189,3.189,0,0,0,2.285-.834A2.989,2.989,0,0,0,15,14.9c0-.363-.012-.72-.036-1.063Zm0,0\"\r\n                        transform=\"translate(0)\"/>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const NewsIco: React.FC = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\r\n            <path\r\n                d=\"M17.357,4.5H14.143V.643A.643.643,0,0,0,13.5,0H.643A.643.643,0,0,0,0,.643V15.429A2.571,2.571,0,0,0,2.571,18H15.429A2.571,2.571,0,0,0,18,15.429V5.143A.643.643,0,0,0,17.357,4.5ZM5.143,3.214H9A.643.643,0,0,1,9,4.5H5.143a.643.643,0,1,1,0-1.286Zm5.786,12.214H3.214a.643.643,0,1,1,0-1.286h7.714a.643.643,0,0,1,0,1.286Zm0-2.571H3.214a.643.643,0,1,1,0-1.286h7.714a.643.643,0,0,1,0,1.286Zm0-2.571H3.214A.643.643,0,0,1,3.214,9h7.714a.643.643,0,0,1,0,1.286Zm0-2.571H3.214a.643.643,0,1,1,0-1.286h7.714a.643.643,0,0,1,0,1.286Zm5.786,7.714a1.286,1.286,0,0,1-2.571,0V5.786h2.571v9.643Z\"/>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const SettingsIco: React.FC = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\r\n            <g transform=\"translate(-0.236)\">\r\n                <g transform=\"translate(0.236)\">\r\n                    <path\r\n                        d=\"M17.924,10.973l-1.7-1.294a6.345,6.345,0,0,0,.04-.68,6.154,6.154,0,0,0-.04-.68l1.7-1.294a.8.8,0,0,0,.2-1.033L16.36,3.015a.829.829,0,0,0-1.022-.358l-2,.784a6.921,6.921,0,0,0-1.2-.68L11.824.69A.811.811,0,0,0,11.008,0H7.465A.809.809,0,0,0,6.65.684L6.345,2.762a7.134,7.134,0,0,0-1.2.68l-2.01-.786a.846.846,0,0,0-1.014.352L.349,5.989a.792.792,0,0,0,.2,1.039l1.7,1.294a5.78,5.78,0,0,0,0,1.358l-1.7,1.294a.8.8,0,0,0-.2,1.033l1.767,2.977a.828.828,0,0,0,1.022.358l2-.784a6.982,6.982,0,0,0,1.2.68l.3,2.07A.811.811,0,0,0,7.466,18h3.543a.81.81,0,0,0,.816-.684l.306-2.077a7.167,7.167,0,0,0,1.2-.681l2.01.786a.847.847,0,0,0,.3.056.817.817,0,0,0,.712-.407L18.131,12A.8.8,0,0,0,17.924,10.973ZM9.237,12a3,3,0,1,1,3.081-3A3.044,3.044,0,0,1,9.237,12Z\"\r\n                        transform=\"translate(-0.236)\"/>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const SignOut: React.FC = () => {\r\n    return (\r\n        <svg fill=\"red\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17.999 18\">\r\n            <g transform=\"translate(-260 -554)\">\r\n                <g transform=\"translate(260 554)\">\r\n                    <path\r\n                        d=\"M17.943,7.963a.758.758,0,0,0-.163-.245L15.531,5.47a.75.75,0,1,0-1.06,1.06l.97.97H11.25a.75.75,0,1,0,0,1.5H15.44l-.97.97a.75.75,0,1,0,1.061,1.06L17.78,8.781a.743.743,0,0,0,.163-.245A.751.751,0,0,0,17.943,7.963Z\"/>\r\n                    <path\r\n                        d=\"M12.75,10.5a.75.75,0,0,0-.75.75V15H9V3a.751.751,0,0,0-.535-.718L5.861,1.5H12V5.25a.75.75,0,0,0,1.5,0V.75A.75.75,0,0,0,12.75,0H.75A.668.668,0,0,0,.673.014.741.741,0,0,0,.355.125C.339.136.319.136.3.148S.294.161.288.166A.743.743,0,0,0,.089.4.613.613,0,0,0,.068.466.711.711,0,0,0,.009.641a.467.467,0,0,0,0,.065C.01.722,0,.735,0,.75v15a.749.749,0,0,0,.6.735l7.5,1.5A.7.7,0,0,0,8.25,18,.75.75,0,0,0,9,17.25V16.5h3.75a.75.75,0,0,0,.75-.75v-4.5A.75.75,0,0,0,12.75,10.5Z\"/>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const UsersIco: React.FC = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 15\">\r\n            <g transform=\"translate(-260 -323)\">\r\n                <g transform=\"translate(274.01 330.974)\">\r\n                    <path\r\n                        d=\"M15.4,9.609H14.01a3.621,3.621,0,0,1,.219,1.245v5.261a1.551,1.551,0,0,1-.089.52h2.3A1.561,1.561,0,0,0,18,15.075V12.207A2.6,2.6,0,0,0,15.4,9.609Z\"\r\n                        transform=\"translate(-14.01 -9.609)\"/>\r\n                </g>\r\n                <g transform=\"translate(260 330.974)\">\r\n                    <path\r\n                        d=\"M3.771,10.854A3.621,3.621,0,0,1,3.99,9.609H2.6a2.6,2.6,0,0,0-2.6,2.6v2.868a1.561,1.561,0,0,0,1.559,1.559h2.3a1.552,1.552,0,0,1-.089-.52Z\"\r\n                        transform=\"translate(0 -9.609)\"/>\r\n                </g>\r\n                <g transform=\"translate(264.81 329.621)\">\r\n                    <path\r\n                        d=\"M10.591,8.255H7.409a2.6,2.6,0,0,0-2.6,2.6v5.261a.52.52,0,0,0,.52.52h7.34a.52.52,0,0,0,.52-.52V10.854A2.6,2.6,0,0,0,10.591,8.255Z\"\r\n                        transform=\"translate(-4.81 -8.255)\"/>\r\n                </g>\r\n                <g transform=\"translate(265.875 323)\">\r\n                    <path d=\"M9,1.365A3.124,3.124,0,1,0,12.125,4.49,3.128,3.128,0,0,0,9,1.365Z\"\r\n                          transform=\"translate(-5.875 -1.365)\"/>\r\n                </g>\r\n                <g transform=\"translate(261.176 325.839)\">\r\n                    <path d=\"M3.513,4.278A2.336,2.336,0,1,0,5.85,6.615,2.34,2.34,0,0,0,3.513,4.278Z\"\r\n                          transform=\"translate(-1.176 -4.278)\"/>\r\n                </g>\r\n                <g transform=\"translate(272.15 325.839)\">\r\n                    <path d=\"M14.487,4.278a2.337,2.337,0,1,0,2.337,2.337A2.34,2.34,0,0,0,14.487,4.278Z\"\r\n                          transform=\"translate(-12.15 -4.278)\"/>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\nimport s from './style.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {logout} from '../../redux/auth-reducer'\r\nimport {AppStateType} from '../../redux'\r\nimport {ProfileIco} from './Icons'\r\nimport {DialogsIco} from './Icons'\r\nimport {FollowIco} from './Icons'\r\nimport {NewsIco} from './Icons'\r\nimport {SettingsIco} from './Icons'\r\nimport {SignOut} from './Icons'\r\nimport {UsersIco} from './Icons'\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    logout: () => void\r\n}\r\n\r\nconst Navbar: React.FC<PropsType> = ({ isAuth, logout }) => {\r\n    return (\r\n        <div className={s.navbar}>\r\n            <NavLink to=\"/profile\" className={s.link} activeClassName={s.activeItem}>\r\n                <ProfileIco/>\r\n                <span className={s.item}>My Profile</span>\r\n            </NavLink>\r\n\r\n            <NavLink to=\"/dialogs\" className={s.link} activeClassName={s.activeItem}>\r\n                <DialogsIco/>\r\n                <span className={s.item}>Messages</span>\r\n            </NavLink>\r\n\r\n            <NavLink to=\"/users\" className={s.link} activeClassName={s.activeItem}>\r\n                <UsersIco/>\r\n                <span className={s.item}>Users</span>\r\n            </NavLink>\r\n\r\n            <NavLink to=\"/following\" className={`${s.link} ${s.hideOnMobile}`} activeClassName={s.activeItem}>\r\n                <FollowIco/>\r\n                <span className={s.item}>Following</span>\r\n            </NavLink>\r\n\r\n            <NavLink to=\"/followers\" className={s.link} activeClassName={s.activeItem}>\r\n                <FollowIco/>\r\n                <span className={s.item}>Followers</span>\r\n            </NavLink>\r\n\r\n            <NavLink to=\"/news\" className={s.link} activeClassName={s.activeItem}>\r\n                <NewsIco/>\r\n                <span className={s.item}>News</span>\r\n            </NavLink>\r\n\r\n            {/*<NavLink to=\"/music\" className={s.link} activeClassName={s.activeItem}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 17.998\">\r\n                    <path className=\"a\"\r\n                        d=\"M17.76.141a.651.651,0,0,0-.541-.126L5.647,2.586a.643.643,0,0,0-.5.627v10.17a3.719,3.719,0,0,0-1.929-.527C1.443,12.856,0,14.01,0,15.428S1.443,18,3.214,18s3.214-1.153,3.214-2.571V7.586L16.714,5.3v5.512a3.719,3.719,0,0,0-1.929-.527c-1.773,0-3.214,1.153-3.214,2.571s1.441,2.571,3.214,2.571S18,14.274,18,12.856V.642A.639.639,0,0,0,17.76.141Z\"\r\n                        transform=\"translate(0 -0.001)\" />\r\n                </svg>\r\n                <span className={s.item}>Music</span>\r\n            </NavLink>*/}\r\n\r\n            <NavLink to=\"/settings\" className={`${s.link} ${s.hideOnMobile}`} activeClassName={s.activeItem}>\r\n                <SettingsIco/>\r\n                <span className={s.item}>Settings</span>\r\n            </NavLink>\r\n\r\n            {isAuth &&\r\n            <div className={`${s.link} ${s.hideOnMobile} ${s.itemLogout}`} onClick={logout}>\r\n                <SignOut/>\r\n                <span className={s.item}>Exit from account</span>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(Navbar)\r\n","import React, {useState, useEffect} from 'react'\r\nimport s from './style.module.css'\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n}\r\n\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        props.isOwner && setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.status !== status && props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    const onKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        e.key === 'Enter' && deactivateEditMode()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {editMode\r\n                ? <div className={s.statusEdit}>\r\n                    <input value={status} onChange={onStatusChange} onKeyPress={onKeyPress}\r\n                           onBlur={deactivateEditMode} autoFocus={true}/>\r\n                </div>\r\n\r\n                : <div>\r\n                <span onClick={activateEditMode}>\r\n                    {props.status || ' '}</span>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks\r\n","import React, {useEffect, useState} from 'react'\r\nimport s from './style.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport ProfileStatus from './ProfileStatus'\r\nimport vk from '../../../assets/images/contacts/vk.svg'\r\nimport instagram from '../../../assets/images/contacts/instagram.svg'\r\nimport github from '../../../assets/images/contacts/github.svg'\r\nimport twitter from '../../../assets/images/contacts/twitter.svg'\r\nimport youtube from '../../../assets/images/contacts/youtube.svg'\r\nimport facebook from '../../../assets/images/contacts/facebook.svg'\r\nimport {GithubPicker} from 'react-color'\r\nimport {ContactsType, ProfileType, ProfileInfoType} from '../../../types/types'\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst ProfileInfo: React.FC<PropsType> = ({ profile, updateStatus, isOwner, goToEditMode }) => {\r\n    let [colorMode, setColorMode] = useState(false)\r\n\r\n    useEffect(() => {\r\n        document.getElementById('user-color')?.setAttribute('style',\r\n            `background-color: ${localStorage.getItem('user-color') || '#3827a0'}`)\r\n    }, [])\r\n\r\n    const changeColor = (color: any) => {\r\n        document.getElementById('user-color')?.setAttribute('style', `background-color: ${color.hex}`)\r\n        localStorage.setItem('user-color', String(color.hex))\r\n        setColorMode(false)\r\n    }\r\n\r\n    return (\r\n        <div className={s.infoBlock} onDoubleClick={() => setColorMode(false)}>\r\n            {colorMode &&\r\n            <div className={s.chooserColor}>\r\n                <GithubPicker\r\n                    onChange={changeColor}\r\n                    width={'215px'}\r\n                    colors={['#d435b7', '#ff2600', '#ffd900', '#65d435', '#61dafb', '#359ad4', '#6d57f6', '#3827a0']}/>\r\n            </div>}\r\n            {profile &&\r\n            <div className={s.mainInfo}>\r\n                <label id=\"user-color\" className={s.colorBlock} onClick={() => setColorMode(!colorMode)}/>\r\n                <img src={profile && profile.photo ? profile.photo : userPhoto} className={s.mainPhoto} alt={''}/>\r\n                <div className={s.name}>\r\n                    {`${profile.info.name} ${profile.info.surname}`}\r\n                </div>\r\n                <div className={s.status}>\r\n                    <ProfileStatus status={profile.status} updateStatus={updateStatus} isOwner={isOwner}/>\r\n                </div>\r\n                {isOwner && <button className=\"button button--primary\" onClick={goToEditMode}>Edit my profile</button>}\r\n            </div>\r\n            }\r\n\r\n            {profile && <ProfileData info={profile.info}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    info: ProfileInfoType\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({ info }) => {\r\n    return <div className={s.description}>\r\n        <div className={s.aboutMe}>\r\n            <p>About me</p>\r\n            <span>{info.aboutMe}</span>\r\n        </div>\r\n\r\n        {info.lookingForAJob &&\r\n        <div className={s.skills}>\r\n            <p>Skills</p>\r\n            <span>\r\n                    {info.lookingForAJobDescription}\r\n                </span>\r\n        </div>}\r\n\r\n        <div className={s.contactsList}>\r\n            {info.contacts && Object\r\n                .keys(info.contacts)\r\n                .map(key => {\r\n                    return <Contact key={key} contactTitle={key}\r\n                                    contactValue={info.contacts[key as keyof ContactsType] || ''}/>\r\n                })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\ntype ContactPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n\r\nconst Contact: React.FC<ContactPropsType> = ({ contactTitle, contactValue }) => {\r\n    if (contactValue) {\r\n        return (\r\n            <div className={s.contacts}>\r\n                {contactTitle === 'github' && contactValue !== '' &&\r\n                <a href={contactValue} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={github} className={s.gitHubIcon} alt=\"\"/>\r\n                    <p>{contactValue}</p>\r\n                </a>}\r\n\r\n                {contactTitle === 'vk' && contactValue !== '' &&\r\n                <a href={contactValue} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={vk} className={s.vkIcon} alt=\"\"/>\r\n                    <p>{contactValue}</p>\r\n                </a>}\r\n\r\n                {contactTitle === 'facebook' && contactValue !== '' &&\r\n                <a href={contactValue} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={facebook} alt=\"\"/>\r\n                    <p>{contactValue}</p>\r\n                </a>}\r\n\r\n                {contactTitle === 'instagram' && contactValue !== '' &&\r\n                <a href={contactValue} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={instagram} alt=\"\"/>\r\n                    <p>{contactValue}</p>\r\n                </a>}\r\n\r\n                {contactTitle === 'twitter' && contactValue !== '' &&\r\n                <a href={contactValue} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={twitter} alt=\"\"/>\r\n                    <p>{contactValue}</p>\r\n                </a>}\r\n\r\n                {contactTitle === 'youtube' && contactValue !== '' &&\r\n                <a href={contactValue} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={youtube} alt=\"\"/>\r\n                    <p>{contactValue}</p>\r\n                </a>}\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default ProfileInfo\r\n\r\n\r\n\r\n","const formatDate = (date: string): { isToday: boolean, getTime: string, withoutYear: string, getDate: string } => {\r\n    const currentDate = new Date()\r\n\r\n    const dateChanger = (date: number) => {\r\n        const strDate = date.toString()\r\n        return strDate.length < 2 ? `0${strDate}` : strDate\r\n    }\r\n\r\n    return {\r\n        isToday: dateChanger(currentDate.getFullYear()) === date.slice(0, 4) &&\r\n            dateChanger(currentDate.getMonth() + 1) === date.slice(5, 7) &&\r\n            dateChanger(currentDate.getDate()) === date.slice(8, 10),\r\n        getTime: `${date.slice(11, 13)}:${date.slice(14, 16)}`,\r\n        withoutYear: `${date.slice(8, 10)}.${date.slice(5, 7)} - ${date.slice(11, 13)}:${date.slice(14, 16)}`,\r\n        getDate: `${date.slice(8, 10)}.${date.slice(5, 7)}.${date.slice(0, 4)} - ${date.slice(11, 13)}:${date.slice(14, 16)}`\r\n    }\r\n}\r\n\r\nexport default formatDate\r\n","import React from 'react'\r\nimport s from './style.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport likeIcon from '../../../assets/images/like.png'\r\nimport removePost from '../../../assets/images/removePost.svg'\r\nimport {ProfileType} from '../../../types/types'\r\nimport formatDate from '../../../helpers/formatDate'\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likesCount: number\r\n    id: string\r\n    date: string\r\n    profile: ProfileType | null\r\n    addLikes: (postId: string) => void\r\n    deletePost: (postId: string) => void\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={s.item} key={props.id}>\r\n            {props.profile &&\r\n            <div className={s.user}>\r\n                <div className={s.userInfo}>\r\n                    <img className={s.userPhoto}\r\n                         src={props.profile && props.profile.photo ? props.profile.photo : userPhoto} alt={''}/>\r\n                    <div className={s.userDescription}>\r\n                        <div className={s.name}>{`${props.profile.info.name} ${props.profile.info.surname}`}</div>\r\n                        <div className={s.date}>{formatDate(props.date).getDate}</div>\r\n                    </div>\r\n                </div>\r\n                <img className={s.removePost} onClick={() => props.deletePost(props.id)} src={removePost} alt=\"\"/>\r\n            </div>\r\n            }\r\n            <div className={s.bottomBlock}>\r\n                <div className={s.text}>\r\n                    {props.message && props.message}\r\n                </div>\r\n                <div className={s.likes} onClick={() => props.addLikes(props.id)}>\r\n                    <span className={s.likeCount}>{props.likesCount}</span>\r\n                    <img src={likeIcon} alt=\"\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import React, {useState} from 'react'\r\nimport s from './style.module.css'\r\nimport Post from './Post'\r\nimport {ProfileType} from '../../../types/types'\r\n\r\ntype MapPropsType = {\r\n    profile: ProfileType | null\r\n}\r\n\r\ntype DispatchPropsType = {\r\n    addPost: (text: string) => void\r\n    addLikes: (postId: string) => void\r\n    deletePost: (postId: string) => void\r\n}\r\n\r\ntype OwnProps = {\r\n    isOwner: boolean\r\n}\r\n\r\nconst Posts: React.FC<MapPropsType & DispatchPropsType & OwnProps> = (props => {\r\n    const [newPostText, setNewPostText] = useState('')\r\n\r\n    const onAddPost = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        props.addPost(newPostText)\r\n        setNewPostText('')\r\n    }\r\n\r\n    const postsElements =\r\n        props.profile?.posts\r\n            ?.sort((a, b) => a.date < b.date ? 1 : -1)\r\n            .map(p =>\r\n                <Post key={p._id}\r\n                      message={p.message}\r\n                      likesCount={p.likesCount}\r\n                      id={p._id}\r\n                      date={p.date}\r\n                      profile={props.profile}\r\n                      addLikes={props.addLikes}\r\n                      deletePost={props.deletePost}\r\n                />\r\n            )\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            {props.isOwner && <form className={`form--primary ${s.form}`} onSubmit={e => onAddPost(e)}>\r\n                <input className=\"form--primary-input\"\r\n                       type=\"text\"\r\n                       placeholder=\"Enter your post...\"\r\n                       value={newPostText}\r\n                       onChange={e => setNewPostText(e.target.value)}/>\r\n                <button className=\"button button--primary form--primary-button\">Add post</button>\r\n            </form>}\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nconst MyPostsMemorized = React.memo(Posts)\r\n\r\nexport default MyPostsMemorized\r\n","import MyPosts from './Posts'\r\nimport {addPost, addLikes, deletePost} from '../../../redux/profile-reducer'\r\nimport {connect} from 'react-redux'\r\nimport {AppStateType} from '../../../redux'\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        profile: state.profilePage.profile\r\n    }\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps, { addPost, addLikes, deletePost })(MyPosts)\r\n\r\nexport default PostsContainer\r\n","import React, {FC} from 'react'\r\nimport s from './ProfileInfo/style.module.css'\r\nimport ProfileInfo from './ProfileInfo'\r\nimport {ProfileType} from '../../types/types'\r\nimport PostsContainer from './Posts'\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    savePhoto: (photo: any) => void\r\n    updateStatus: (status: string) => void\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst Profile: FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={s.profile}>\r\n            {props.profile && <>\r\n                <ProfileInfo\r\n                    isOwner={props.isOwner}\r\n                    profile={props.profile}\r\n                    updateStatus={props.updateStatus}\r\n                    goToEditMode={props.goToEditMode}\r\n                />\r\n                <PostsContainer isOwner={props.isOwner}/>\r\n            </>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, {useState} from 'react'\r\nimport s from './style.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport {ProfileInfoType, ProfileType} from '../../../types/types'\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n    onSubmit: (formData: ProfileInfoType) => void\r\n    savePhoto: (photo: File) => void\r\n    exitOfEditMode: () => void\r\n    isOwner: boolean\r\n}\r\n\r\nconst ProfileEditForm: React.FC<PropsType> = ({ profile, onSubmit, savePhoto, exitOfEditMode, isOwner }) => {\r\n    const [infoData, setInfoData] = useState<ProfileInfoType>(profile.info)\r\n\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        onSubmit(infoData)\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form className={s.editInfoBlock} onSubmit={e => handleSubmit(e)}>\r\n            <div className={s.topBlock}>\r\n                <div className={s.leftBlock}>\r\n                    <h3>Edit your profile</h3>\r\n                    {isOwner &&\r\n                    <div className={s.upload}>\r\n                        <p>Edit photo</p>\r\n                        <p className={s.secondP}>Upload new photo</p>\r\n                        <input id=\"upl\" type={'file'} onChange={onMainPhotoSelected}/>\r\n                        <label htmlFor=\"upl\" className={`button button--primary ${s.uploadBtn}`}>Upload</label>\r\n                        <div className={s.photos}>\r\n                            <img src={profile.photo || userPhoto} className={s.largePhoto} alt={''}/>\r\n                            <img src={profile.photo || userPhoto} className={s.smallPhoto} alt={''}/>\r\n                        </div>\r\n                    </div>}\r\n                    <div className={s.name_surname}>\r\n                        <div className={s.name}>\r\n                            <p>Edit name</p>\r\n                            <input type=\"text\"\r\n                                   placeholder=\"Name\"\r\n                                   value={infoData.name}\r\n                                   onChange={(e) => setInfoData({ ...infoData, name: e.target.value })}\r\n                            />\r\n                        </div>\r\n                        <div className={s.surname}>\r\n                            <p>Edit surname</p>\r\n                            <input type=\"text\"\r\n                                   placeholder=\"Surname\"\r\n                                   value={infoData.surname}\r\n                                   onChange={(e) => setInfoData({ ...infoData, surname: e.target.value })}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={s.rightBlock}>\r\n                    <h3>Edit information</h3>\r\n                    <div className={s.aboutMe}>\r\n                        <p>Edit info</p>\r\n                        <input type=\"text\"\r\n                               placeholder=\"About me\"\r\n                               value={infoData.aboutMe}\r\n                               onChange={(e) => setInfoData({ ...infoData, aboutMe: e.target.value })}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={s.checkbox}>\r\n                        <p>Do you want a find a job?</p>\r\n                        <input type=\"checkbox\"\r\n                               placeholder=\"\"\r\n                               checked={infoData.lookingForAJob}\r\n                               onChange={() => setInfoData({ ...infoData, lookingForAJob: !infoData.lookingForAJob })}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={s.skills}>\r\n                        <p>Edit skills</p>\r\n                        <input type=\"text\"\r\n                               placeholder=\"My professional skills\"\r\n                               value={infoData.lookingForAJobDescription}\r\n                               onChange={(e) => setInfoData({ ...infoData, lookingForAJobDescription: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.contactsBlock}>\r\n                <h3>Edit contacts</h3>\r\n                <div className={s.contacts}>\r\n                    {profile.info.contacts && Object.keys(profile.info.contacts).map(key => {\r\n                        return (\r\n                            <div key={key} className={s.contactsItem}>\r\n                                <div className={s.contactKey}>{key}</div>\r\n                                <input className={s.contactValue}\r\n                                       type=\"text\"\r\n                                       placeholder={`http://${key}.com`}\r\n                                    // @ts-ignore\r\n                                       value={infoData.contacts[key]}\r\n                                       onChange={(e) => setInfoData({\r\n                                           ...infoData,\r\n                                           contacts: {\r\n                                               ...infoData.contacts,\r\n                                               [key]: e.target.value\r\n                                           }\r\n                                       })}\r\n                                />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.buttons}>\r\n                <button className=\"button button--secondary\" onClick={exitOfEditMode}>Cancel</button>\r\n                <button className={`button button--primary ${s.saveBtn}`} onClick={() => onSubmit(infoData)}>Save\r\n                    changes\r\n                </button>\r\n            </div>\r\n            {/*{error && <div className={style.formSummaryError}>{error}</div>}*/}\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ProfileEditForm\r\n","import {Redirect} from 'react-router-dom'\r\nimport React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {AppStateType} from '../redux'\r\nimport {getAuthUserData} from '../redux/auth-reducer'\r\n\r\ntype MapPropsType = {\r\n    isAuth: boolean\r\n    isFetching: boolean\r\n    getAuthUserData: () => void\r\n}\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n    function RedirectComponent(props: MapPropsType) {\r\n        let { isAuth, isFetching, getAuthUserData, ...restProps } = props\r\n\r\n        if (!isAuth) return <Redirect to=\"/login\"/>\r\n        return <WrappedComponent {...restProps as WCP}/>\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect, { getAuthUserData })(RedirectComponent)\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    isFetching: state.auth.isFetching\r\n})\r\n","import React, {useEffect, useState} from 'react'\r\nimport Profile from './Profile'\r\nimport ProfileEditForm from './ProfileEditForm'\r\nimport {connect} from 'react-redux'\r\nimport {getUserProfile, savePhoto, saveProfile, updateStatus} from '../../redux/profile-reducer'\r\nimport {compose} from 'redux'\r\nimport {withRouter, RouteComponentProps} from 'react-router-dom'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\nimport {AppStateType} from '../../redux'\r\nimport {ProfileType, ProfileInfoType} from '../../types/types'\r\nimport Preloader from '../common/Preloader'\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: string) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photo: File) => void\r\n    saveProfile: (profile: ProfileInfoType) => Promise<any>\r\n}\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>\r\n\r\nconst ProfileContainer: React.FC<PropsType> = (props) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n    const isOwner = props.authId === props.match.params.userId || !props.match.params.userId\r\n\r\n    const exitOfEditMode = () => {\r\n        setEditMode(false)\r\n    }\r\n\r\n    const goToEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const onSubmit = (formData: ProfileInfoType) => {\r\n        // TODO: remove then\r\n        props.saveProfile(formData).then(\r\n            () => exitOfEditMode()\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        let userId: string | null = props.match.params.userId\r\n        if (!userId) {\r\n            userId = props.authorizedUserId\r\n            if (!userId) {\r\n                props.history.push('/login')\r\n            }\r\n        }\r\n\r\n        if (!userId) {\r\n            console.error('ID should exists in URI params or in state (\\'authorizedUserId\\')')\r\n        } else {\r\n            props.getUserProfile(userId)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            {props.isFetching && <Preloader/>}\r\n            {editMode ?\r\n                <ProfileEditForm\r\n                    profile={props.profile as ProfileType}\r\n                    onSubmit={onSubmit}\r\n                    savePhoto={props.savePhoto}\r\n                    exitOfEditMode={exitOfEditMode}\r\n                    isOwner={isOwner}/>\r\n                : <Profile\r\n                    savePhoto={props.savePhoto}\r\n                    isOwner={isOwner}\r\n                    profile={props.profile}\r\n                    updateStatus={props.updateStatus}\r\n                    goToEditMode={goToEditMode}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    authorizedUserId: state.auth.userData.id,\r\n    authId: state.auth.userData.id,\r\n    isFetching: state.profilePage.isFetching\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, { getUserProfile, updateStatus, savePhoto, saveProfile }),\r\n    withRouter,\r\n    withAuthRedirect)\r\n(ProfileContainer)\r\n","import React from 'react'\r\nimport s from '../style.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport userPhoto from '../../../assets/images/user.png'\r\n\r\ntype PropsType = {\r\n    id: string\r\n    name: string\r\n    photo: string | null\r\n    currentDialog: string\r\n    setCurrentChat: (chatId: string) => void\r\n    defaultChecked?: boolean\r\n    /*hasNewMessage: boolean\r\n    newMessagesCount: number*/\r\n}\r\n\r\nconst DialogItem: React.FC<PropsType> = (props) => {\r\n    let className = props.currentDialog === props.id ? `${s.item} ${s.activeDialogItem}` :\r\n        props.defaultChecked ? `${s.item} ${s.activeDialogItem}` : s.item\r\n    return (\r\n        <NavLink to={'/dialogs/' + props.id} className={className} onClick={() => props.setCurrentChat(props.id)}>\r\n            <img src={props.photo || userPhoto} alt={''}/>\r\n            <div className={s.userName}>{props.name}</div>\r\n        </NavLink>\r\n    )\r\n}\r\n\r\nexport default DialogItem\r\n","import React from 'react'\r\nimport s from '../style.module.css'\r\nimport {MessageType} from '../../../types/types'\r\nimport formatDate from '../../../helpers/formatDate'\r\n\r\ntype PropsType = {\r\n    message: MessageType\r\n    isItMe: boolean\r\n    isFirstToday: boolean\r\n}\r\n\r\nconst Messaage: React.FC<PropsType> = ({ message, isItMe, isFirstToday }) => {\r\n    let className = isItMe ? `${s.message} ${s.myMessage}` : s.message\r\n\r\n    return (\r\n        <>\r\n            {isFirstToday && <div className={s.hr}>\r\n                <div className={s.hrText}>Today</div>\r\n                <div className={s.hrLine}/>\r\n            </div>}\r\n            <li id={message._id} className={className}>\r\n                <div className={s.messageText}>{message.text}</div>\r\n                <div className={s.messageDate}>\r\n                    {formatDate(message.date).isToday\r\n                        ? formatDate(message.date).getTime\r\n                        : formatDate(message.date).getDate\r\n                    }\r\n                </div>\r\n            </li>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Messaage\r\n","import React, {useState} from 'react'\r\nimport s from '../style.module.css'\r\n\r\ntype PropsType = {\r\n    sendMessage: (messageText: string) => void\r\n}\r\n\r\nconst AddMessageForm: React.FC<PropsType> = ({ sendMessage }) => {\r\n    const [messageText, setMessageText] = useState('')\r\n\r\n    const onMessageSend = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        sendMessage(messageText)\r\n        setMessageText('')\r\n    }\r\n\r\n    return (\r\n        <form className={`form--primary ${s.form}`} onSubmit={e => onMessageSend(e)}>\r\n            <input className=\"form--primary-input\"\r\n                   type=\"text\"\r\n                   placeholder=\"Enter your message\"\r\n                   value={messageText}\r\n                   onChange={e => setMessageText(e.target.value)}/>\r\n            <button className=\"button button--primary form--primary-button\">Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddMessageForm\r\n","import React, {useEffect} from 'react'\r\n\r\nimport formatDate from '../../helpers/formatDate'\r\n\r\nimport s from './style.module.css'\r\nimport DialogItem from './DialogItem'\r\nimport Message from './Message'\r\nimport AddMessageForm from './AddMessageForm'\r\nimport {MessageType} from '../../types/types'\r\nimport {ChatType} from '../../types/types'\r\nimport Preloader from '../common/Preloader'\r\n\r\ntype PropsType = {\r\n    chats: ChatType[]\r\n    messages: MessageType[]\r\n    isLoading: boolean\r\n    sendMessage: (chatId: string, message: string) => void\r\n    authorizedUserId: string\r\n    currentChat: string\r\n    setCurrentChat: (chatId: string) => void\r\n    isCurrentChatChanged: boolean\r\n}\r\n\r\nconst Dialogs: React.FC<PropsType> = (props) => {\r\n    const messages = props.messages\r\n    let haveTodayMessage = false\r\n\r\n    const messagesElements = messages.map(m => {\r\n            let isFirstToday = false\r\n            if (formatDate(m.date).isToday) {\r\n                isFirstToday = !haveTodayMessage\r\n                haveTodayMessage = true\r\n            }\r\n            return <Message key={m._id}\r\n                          message={m}\r\n                          isItMe={props.authorizedUserId === m.senderId}\r\n                          isFirstToday={isFirstToday}\r\n            />\r\n        }\r\n    )\r\n\r\n    useEffect(() => {\r\n        const lastMessage = messages.length && document.getElementById(messages[messages.length - 1]._id)\r\n        lastMessage && lastMessage.scrollIntoView()\r\n    })\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {props.chats.map((d, index) =>\r\n                    <DialogItem name={d.title}\r\n                           key={d._id}\r\n                           id={d._id}\r\n                           photo={d.photo}\r\n                           currentDialog={props.currentChat}\r\n                           setCurrentChat={props.setCurrentChat}\r\n                           defaultChecked={index === 0 && props.currentChat === 'all'}\r\n                        /*hasNewMessage={d.hasNewMessages}\r\n                        newMessagesCount={d.newMessagesCount}*/\r\n                    />\r\n                )}\r\n            </div>\r\n\r\n            {props.isLoading\r\n                ? <Preloader/>\r\n                : <div className={s.messages}>\r\n                    <ul className={s.messagesBlock}>\r\n                        {messagesElements.length ? messagesElements : <div className={s.noMessages}>No messages</div>}\r\n                    </ul>\r\n                    <AddMessageForm\r\n                        sendMessage={(messageText: string) => props.sendMessage(props.currentChat, messageText)}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs\r\n","import React, {useEffect, useState} from 'react'\r\nimport Dialogs from './Dialogs'\r\nimport {sendMessage, getAllDialogs} from '../../redux/dialogs-reducer'\r\nimport {connect} from 'react-redux'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\nimport {compose} from 'redux'\r\nimport {AppStateType} from '../../redux'\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom'\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype DispatchPropsType = {\r\n    sendMessage: (chatId: string, message: string) => void\r\n    getAllDialogs: (chatId?: string) => void\r\n}\r\n\r\ntype PathParamsType = {\r\n    chatId: string\r\n}\r\n\r\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>\r\n\r\nconst DialogsContainer: React.FC<PropsType> = (props) => {\r\n    const currentChat = props.match.params.chatId || 'all'\r\n    const [isCurrentChatChanged, setIsCurrentChatChanged] = useState(false)\r\n\r\n    useEffect(() => {\r\n        !props.chats.length && props.getAllDialogs(currentChat)\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    const setCurrentChat = (chatId: string) => {\r\n        if (!isCurrentChatChanged) {\r\n            setIsCurrentChatChanged(true)\r\n        }\r\n        if (chatId !== currentChat) {\r\n            props.getAllDialogs(chatId)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialogs\r\n            chats={props.chats}\r\n            messages={props.messages}\r\n            isLoading={props.isLoading}\r\n            sendMessage={props.sendMessage}\r\n            authorizedUserId={props.authorizedUserId || ''}\r\n            currentChat={currentChat}\r\n            setCurrentChat={setCurrentChat}\r\n            isCurrentChatChanged={isCurrentChatChanged}\r\n        />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        chats: state.dialogsPage.chats,\r\n        messages: state.dialogsPage.messages,\r\n        isLoading: state.dialogsPage.isFetching,\r\n        authorizedUserId: state.auth.userData.id\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, { sendMessage, getAllDialogs }),\r\n    withRouter, withAuthRedirect)(DialogsContainer) as React.ComponentType\r\n","import React, {useState} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getUserProfile} from '../../redux/profile-reducer'\r\nimport {logout} from '../../redux/auth-reducer'\r\nimport {AppStateType} from '../../redux'\r\nimport {toggleBlackTheme} from '../../redux/settings-reducer'\r\nimport {UserDataType} from '../../types/types'\r\nimport s from './style.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport reactIcon from '../../assets/images/reactIcon.png'\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport userLogIcon from '../../assets/images/userLogIcon.png'\r\nimport cn from 'classnames'\r\n\r\nexport type PropsType = {\r\n    isAuth: boolean\r\n    userData: UserDataType\r\n    logout: () => void\r\n    isBlackThemeActivated: boolean\r\n    toggleBlackTheme: (theme: boolean) => void\r\n}\r\n\r\nconst Header: React.FC<PropsType> = ({ isAuth, userData, logout, isBlackThemeActivated, toggleBlackTheme }) => {\r\n    let [showMenu, setShowMenu] = useState(false)\r\n\r\n    const showUserMenu = () => {\r\n        setShowMenu(!showMenu)\r\n    }\r\n\r\n    const handleLogoutClick = () => {\r\n        logout()\r\n        setShowMenu(false)\r\n    }\r\n\r\n    return (\r\n        <div className={s.header}>\r\n            <div className={s.headerWrap}>\r\n                <div className={s.mainIcon}>\r\n                    <NavLink to=\"/profile/\" className={s.logoLink}>\r\n                        <img src={reactIcon} alt={''} className={s.logo}/>\r\n                    </NavLink>\r\n                    <p className={s.title}>GAZZATI <br/> SOCIAL NETWORK</p>\r\n                </div>\r\n                {userData &&\r\n                <div className={s.userBlock}>\r\n                    {isAuth\r\n                        ? <span className={s.isAuthUserBlock}>\r\n                        <span className={s.userLogName}>{`${userData.name} ${userData.surname}`}</span>\r\n                        <img className={s.userPhoto}\r\n                             src={userData.photo ? userData.photo : userPhoto} alt=\"\"/>\r\n                        <img className={s.function} src={userLogIcon} alt=\"\" onClick={showUserMenu}/>\r\n\r\n                    </span>\r\n                        : <NavLink to={'/login'} className={s.login}>Log in</NavLink>}\r\n                </div>\r\n                }\r\n                {showMenu && <>\r\n                    <div className={s.popup} onClick={showUserMenu}/>\r\n                    <div className={s.content}>\r\n                        <div className={s.night}>\r\n                            <span className={s.label}>Night theme</span>\r\n                            <span onClick={() => toggleBlackTheme(isBlackThemeActivated)}\r\n                                  className={cn({ [s.switchOn]: isBlackThemeActivated }, s.button)}> </span>\r\n                        </div>\r\n                        <div className={s.exit} onClick={handleLogoutClick}>Exit from account</div>\r\n                    </div>\r\n                </>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userData: state.auth.userData,\r\n    isBlackThemeActivated: state.settings.isBlackThemeActivated\r\n})\r\n\r\nexport default connect(mapStateToProps, { getUserProfile, logout, toggleBlackTheme })(Header)\r\n","import React, {useState} from 'react'\r\nimport s from './style.module.css'\r\nimport {LoginFormValuesType} from './'\r\n\r\ntype PropsType = {\r\n    onSubmit: (formData: LoginFormValuesType) => void\r\n}\r\n\r\nconst LoginForm: React.FC<PropsType> = ({ onSubmit }) => {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        onSubmit({ email, password })\r\n    }\r\n\r\n    return (\r\n        <form className={s.login} onSubmit={e => handleSubmit(e)}>\r\n            <input type=\"email\" placeholder=\"email\" value={email} onChange={e => setEmail(e.target.value)}/>\r\n            <input type=\"password\" placeholder=\"password\" value={password} onChange={e => setPassword(e.target.value)}/>\r\n\r\n            {/*{error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }*/}\r\n            <div>\r\n                <button className=\"button button--primary\" type=\"submit\">Log In</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default LoginForm\r\n","import React, {useState} from 'react'\r\nimport s from './style.module.css'\r\nimport {RegistrationFormValuesType} from './'\r\n\r\ntype PropsType = {\r\n    onSubmit: (formData: RegistrationFormValuesType) => void\r\n}\r\n\r\nconst RegistrationForm: React.FC<PropsType> = ({ onSubmit }) => {\r\n    const [email, setEmail] = useState('')\r\n    const [name, setName] = useState('')\r\n    const [surname, setSurname] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        onSubmit({ email, name, surname, password })\r\n    }\r\n\r\n    return (\r\n        <form className={s.registration} onSubmit={e => handleSubmit(e)}>\r\n            <input type=\"email\" placeholder=\"email\" value={email} onChange={e => setEmail(e.target.value)}/>\r\n            <input type=\"text\" placeholder=\"name\" value={name} onChange={e => setName(e.target.value)}/>\r\n            <input type=\"text\" placeholder=\"surname\" value={surname} onChange={e => setSurname(e.target.value)}/>\r\n            <input type=\"password\" placeholder=\"password\" autoComplete=\"new-password\" value={password} onChange={e => setPassword(e.target.value)}/>\r\n\r\n            {/*{error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }*/}\r\n            <div>\r\n                <button className=\"button button--primary\" type=\"submit\">Log In</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default RegistrationForm\r\n","import React from 'react'\r\nimport s from './style.module.css'\r\nimport {connect} from 'react-redux'\r\nimport {login} from '../../redux/auth-reducer'\r\nimport {registration} from '../../redux/auth-reducer'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {AppStateType} from '../../redux'\r\nimport Preloader from '../common/Preloader'\r\nimport LoginForm from './LoginForm'\r\nimport RegistrationForm from './RegistrationForm'\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    isFetching: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    login: (email: string, password: string) => void\r\n    registration: (name: string, surname: string, email: string, password: string) => void\r\n}\r\n\r\nexport type LoginFormValuesType = {\r\n    email: string\r\n    password: string\r\n}\r\n\r\nexport type RegistrationFormValuesType = {\r\n    email: string\r\n    name: string\r\n    surname: string\r\n    password: string\r\n}\r\n\r\nconst Login: React.FC<MapStatePropsType & MapDispatchPropsType> = (props) => {\r\n    const onSubmitLogin = (formData: LoginFormValuesType) => {\r\n        props.login(formData.email, formData.password)\r\n    }\r\n\r\n    const onSubmitRegistration = (formData: RegistrationFormValuesType) => {\r\n        props.registration(formData.name, formData.surname, formData.email, formData.password)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.loginPage}>\r\n            {props.isFetching && <Preloader/>}\r\n            <div className={s.login}>\r\n                <h2>LOG IN</h2>\r\n                <LoginForm onSubmit={onSubmitLogin}/>\r\n            </div>\r\n\r\n            <h4>or</h4>\r\n\r\n            <div className={s.registration}>\r\n                <h2>REGISTRATION</h2>\r\n                <RegistrationForm onSubmit={onSubmitRegistration}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    isFetching: state.auth.isFetching\r\n})\r\n\r\nexport default connect(mapStateToProps, { login, registration })(Login)\r\n","import React from 'react'\r\nimport s from './style.module.css'\r\nimport cn from 'classnames'\r\nimport {connect} from 'react-redux'\r\nimport {toggleBlackTheme, toggleDynamicBackground} from '../../redux/settings-reducer'\r\nimport {compose} from 'redux'\r\nimport {AppStateType} from '../../redux'\r\n\r\nlet mapStateToProps = (state: AppStateType) => ({\r\n    isBlackThemeActivated: state.settings.isBlackThemeActivated,\r\n    isDynamicBackgroundActivated: state.settings.isDynamicBackgroundActivated\r\n})\r\n\r\ntype PropsType = {\r\n    isBlackThemeActivated: boolean\r\n    isDynamicBackgroundActivated: boolean\r\n    toggleBlackTheme: (theme: boolean) => void\r\n    toggleDynamicBackground: (theme: boolean) => void\r\n}\r\n\r\nconst Settings: React.FC<PropsType> = ({ isBlackThemeActivated, isDynamicBackgroundActivated,\r\n                                           toggleBlackTheme, toggleDynamicBackground }) => {\r\n    return (\r\n        <div className={s.settings}>\r\n            <div className={s.settingsItem}>\r\n                <span className={s.label}>Night theme</span>\r\n                <span onClick={() => toggleBlackTheme(isBlackThemeActivated)}\r\n                      className={cn({ [s.switchOn]: isBlackThemeActivated }, s.button)}\r\n                />\r\n            </div>\r\n            <div className={s.settingsItem}>\r\n                <span className={s.label}>Dynamic background</span>\r\n                <span onClick={() => toggleDynamicBackground(isDynamicBackgroundActivated)}\r\n                      className={cn({ [s.switchOn]: isDynamicBackgroundActivated }, s.button)}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, { toggleBlackTheme, toggleDynamicBackground }))(Settings)\r\n","import React, {FC} from 'react'\r\nimport s from './style.module.css'\r\nimport {NewsType} from '../../types/types'\r\n\r\ntype PropsType = {\r\n    newsItem: NewsType\r\n}\r\n\r\nlet NewsItem: FC<PropsType> = ({ newsItem }) => {\r\n    const date = newsItem.publishedAt\r\n    const formattedDate = `${date.slice(8, 10)}.${date.slice(5, 7)}.${date.slice(0, 4)} - ${date.slice(11, 13)}:${date.slice(14, 16)}`\r\n\r\n    return (\r\n        <div className={s.newsContainer}>\r\n            <div className={s.newItem}>\r\n                <a href={newsItem.url} target=\"_blank\" rel=\"noopener noreferrer\" className={s.title}>\r\n                    <b>{newsItem.title}</b>\r\n                </a>\r\n                <p className={s.description}>{newsItem.description}</p>\r\n                <a href={newsItem.url} target=\"_blank\" rel=\"noopener noreferrer\" className={s.img}>\r\n                    {newsItem.urlToImage && <img src={newsItem.urlToImage} alt=\"\"/>}\r\n                </a>\r\n                <div className={s.info}>\r\n                    <a href={newsItem.url} className={s.publish} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <b>{newsItem.source.name}</b>\r\n                    </a>\r\n                    <div className={s.date}>{formattedDate}</div>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default NewsItem\r\n","import React, {FC} from 'react'\r\nimport s from './style.module.css'\r\nimport Paginator from '../common/Paginator'\r\nimport Preloader from '../common/Preloader'\r\nimport NewsItem from './NewsItem'\r\nimport {NewsType} from '../../types/types'\r\n\r\ntype PropsType = {\r\n    totalNewsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    category: string\r\n    onPageChanged: (pageNumber: number) => void\r\n    onCategoryChanged: (category: string) => void\r\n    news: Array<NewsType>\r\n    isFetching: boolean\r\n}\r\n\r\nconst News: FC<PropsType> = ({\r\n                                 news, currentPage, totalNewsCount, pageSize,\r\n                                 category, onPageChanged, onCategoryChanged, isFetching\r\n                             }) => {\r\n\r\n\r\n    const onCategoryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        onCategoryChanged(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className={s.news}>\r\n\r\n            <div className={s.topBlock}>\r\n                <Paginator currentPage={currentPage}\r\n                       onPageChanged={onPageChanged}\r\n                       totalItemsCount={totalNewsCount}\r\n                       pageSize={pageSize}\r\n                />\r\n\r\n                <select className={s.select} defaultValue={category} onChange={e => onCategoryChange(e)}>\r\n                    <option value=\"business\">Business</option>\r\n                    <option value=\"entertainment\">Entertainment</option>\r\n                    <option value=\"general\">General</option>\r\n                    <option value=\"health\">Health</option>\r\n                    <option value=\"science\">Science</option>\r\n                    <option value=\"sports\">Sports</option>\r\n                    <option value=\"technology\">Technology</option>\r\n                </select>\r\n            </div>\r\n\r\n            {isFetching ? <Preloader/> : null}\r\n            <div className={s.newsList}>\r\n                {news.map(n => <NewsItem key={n.publishedAt.toString()} newsItem={n}/>)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News\r\n","import React, {useEffect} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux'\r\nimport {NewsType} from '../../types/types'\r\nimport {AppStateType} from '../../redux'\r\nimport News from './News'\r\nimport {getNews} from '../../redux/news-reducer'\r\n\r\ntype MapStatePropsType = {\r\n    isFetching: boolean\r\n    news: Array<NewsType>\r\n    currentPage: number\r\n    totalNewsCount: number\r\n    pageSize: number\r\n    category: string\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getNews: (currentPage: number, pageSize: number, category: string) => void\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst NewsContainer: React.FC<PropsType> = ({\r\n                                                isFetching, news, currentPage,\r\n                                                totalNewsCount, pageSize, category, getNews\r\n                                            }) => {\r\n    useEffect(() => {\r\n        getNews(currentPage, pageSize, '')\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        getNews(pageNumber, pageSize, '')\r\n    }\r\n\r\n    const onCategoryChanged = (category: string) => {\r\n        getNews(currentPage, pageSize, category)\r\n    }\r\n\r\n    return (\r\n        <News onPageChanged={onPageChanged}\r\n              onCategoryChanged={onCategoryChanged}\r\n              news={news}\r\n              isFetching={isFetching}\r\n              totalNewsCount={totalNewsCount}\r\n              pageSize={pageSize}\r\n              currentPage={currentPage}\r\n              category={category}\r\n        />\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        news: state.news.news,\r\n        isFetching: state.news.isFetching,\r\n        pageSize: state.news.pageSize,\r\n        totalNewsCount: state.news.totalNewsCount,\r\n        currentPage: state.news.currentPage,\r\n        category: state.news.category\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, { getNews: getNews }))(NewsContainer)\r\n","import React, {FC} from 'react'\r\nimport s from './style.module.css'\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {ProfileType} from '../../types/types'\r\n\r\ntype PropsType = {\r\n    user: ProfileType\r\n    unfollow: (userId: string) => void\r\n    unfollowingInProgress: Array<string>\r\n    onSendMessage: (userId: string) => void\r\n    type: 'followers' | 'following'\r\n}\r\n\r\nlet FollowItem: FC<PropsType> = ({ user, unfollow, unfollowingInProgress, onSendMessage , type}) => {\r\n    return (\r\n        <div className={s.friend}>\r\n            <div>\r\n                <NavLink to={'profile/' + user._id}>\r\n                    <img src={user.photo ? user.photo : userPhoto}\r\n                         className={s.photo} alt={''}/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={s.descriptionUser}>\r\n                <div className={s.name}>{`${user.info.name} ${user.info.surname}`}</div>\r\n                <div>{user.status}</div>\r\n            </div>\r\n            <span className={s.buttons}>\r\n                <div className=\"button button--primary\" onClick={() => onSendMessage(user._id)}>Chat</div>\r\n                {type === 'following' &&\r\n                <button className={`button button--secondary ${s.unfollow}`}\r\n                        onClick={() => unfollow(user._id)}\r\n                        disabled={unfollowingInProgress.some(id => id === user._id)}>\r\n                    Unfollow\r\n                </button>\r\n                }\r\n            </span>\r\n        </div>)\r\n}\r\n\r\nexport default FollowItem\r\n","import React, {useEffect} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nimport {getFollow, unfollow} from '../../redux/follow-reducer'\r\nimport s from './style.module.css'\r\nimport {AppStateType} from '../../redux'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\nimport {startChat} from '../../redux/dialogs-reducer'\r\nimport Preloader from '../common/Preloader'\r\nimport FollowItem from './FollowItem'\r\n\r\ntype MapStatePropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype MapDispatchPropsType = {\r\n    getFollow: (type: 'followers' | 'following') => void\r\n    unfollow: (userId: string) => void\r\n    startChat: (chatId?: string) => string\r\n}\r\n\r\ntype OwnPropsType = {\r\n    type: 'followers' | 'following'\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType\r\n\r\nconst Follow: React.FC<PropsType> = (props) => {\r\n    const users = props[props.type]\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        props.getFollow(props.type)\r\n        // eslint-disable-next-line\r\n    }, [props.type])\r\n\r\n    const onSendMessage = async (userId: string) => {\r\n        let chatId = props.chats.filter(chat =>\r\n            chat.participants.includes(userId) && chat.participants.length === 2)[0]?._id\r\n        if (!chatId) {\r\n            chatId = await props.startChat(userId)\r\n        }\r\n        history.push(`dialogs/${chatId}`)\r\n    }\r\n\r\n    return (\r\n        <div className={s.friendsBlock}>\r\n            {props.isLoading ? <Preloader/> : null}\r\n            <div className={s.friends}>\r\n                {users?.map(user =>\r\n                    <FollowItem user={user}\r\n                                key={user._id}\r\n                                type={props.type}\r\n                                unfollow={props.unfollow}\r\n                                unfollowingInProgress={props.unfollowingInProgress}\r\n                                onSendMessage={onSendMessage}\r\n                    />\r\n                )}\r\n            </div>\r\n            {/* <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n               totalItemsCount={props.totalFriendsCount} pageSize={props.pageSize}/>*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        following: state.follow.following,\r\n        followers: state.follow.followers,\r\n        pageSize: state.follow.pageSize,\r\n        totalFriendsCount: state.follow.totalFriendsCount,\r\n        currentPage: state.follow.currentPage,\r\n        isLoading: state.follow.isFetching,\r\n        unfollowingInProgress: state.follow.unfollowingInProgress,\r\n        chats: state.dialogsPage.chats\r\n    }\r\n}\r\n\r\nexport default compose<React.FC<OwnPropsType>>(\r\n    connect(mapStateToProps, { getFollow, unfollow, startChat }),\r\n    withAuthRedirect)(Follow)\r\n","import React from 'react'\r\nimport Particles from 'react-particles-js'\r\n\r\nimport s from './style.module.css'\r\n\r\nconst BackgroundEffect: React.FC = () => {\r\n    const color = document.documentElement.getAttribute('data-theme') === 'dark' ? '#242630' : '#1a122d'\r\n    return (\r\n        <Particles\r\n            className={s.bg}\r\n            params={{\r\n                particles: {\r\n                    color: {\r\n                        value: color,\r\n                    },\r\n                    opacity: {\r\n                      value: 1\r\n                    },\r\n                    number: {\r\n                        value: 170\r\n                    },\r\n                    size: {\r\n                        value: 5,\r\n                        random: true,\r\n                        anim: {\r\n                            speed: 4,\r\n                            size_min: 0.3\r\n                        }\r\n                    },\r\n                    line_linked: {\r\n                        enable: false\r\n                    },\r\n                    move: {\r\n                        random: true,\r\n                        speed: 1,\r\n                        direction: 'top',\r\n                        out_mode: 'out'\r\n                    }\r\n                },\r\n                interactivity: {\r\n                    events: {\r\n                        onhover: {\r\n                            enable: true,\r\n                            mode: 'attract'\r\n                        },\r\n                        onclick: {\r\n                            enable: true,\r\n                            mode: 'repulse'\r\n                        }\r\n                    },\r\n                    modes: {\r\n                        repulse: {\r\n                            distance: 400,\r\n                            duration: 8\r\n                        }\r\n                    }\r\n                }\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default BackgroundEffect\r\n","import React, {useEffect} from 'react'\r\nimport {/*BrowserRouter,*/ HashRouter, Route, Switch, withRouter} from 'react-router-dom'\r\nimport {connect, Provider} from 'react-redux'\r\nimport {compose} from 'redux'\r\nimport store, {AppStateType} from './redux'\r\nimport {toggleBlackTheme, toggleDynamicBackground} from './redux/settings-reducer'\r\nimport {getAuthUserData} from './redux/auth-reducer'\r\n\r\nimport UsersContainer from './components/Users'\r\nimport Navbar from './components/Navbar'\r\nimport ProfileContainer from './components/Profile'\r\nimport DialogsContainer from './components/Dialogs'\r\nimport Header from './components/Header'\r\nimport LoginPage from './components/Login'\r\nimport Settings from './components/Settings'\r\nimport NewsContainer from './components/News'\r\nimport FollowContainer from './components/Follow'\r\nimport BackgroundEffect from './components/BackgroundEffect'\r\n\r\nimport './styles/index.scss'\r\n\r\ntype PropsType = {\r\n    isDynamicBackgroundActivated: boolean\r\n    getAuthUserData: () => void\r\n    toggleBlackTheme: (theme: boolean) => void\r\n    toggleDynamicBackground: (theme: boolean) => void\r\n}\r\n\r\nconst App: React.FC<PropsType> = ({ isDynamicBackgroundActivated, getAuthUserData, toggleBlackTheme, toggleDynamicBackground }) => {\r\n    useEffect(() => {\r\n        getAuthUserData()\r\n        toggleBlackTheme(localStorage.getItem('black-theme') === 'light')\r\n        toggleDynamicBackground(localStorage.getItem('dynamic-bg') === 'false')\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            {isDynamicBackgroundActivated && <BackgroundEffect />}\r\n            <Header/>\r\n            <main>\r\n                <Navbar/>\r\n                <div className=\"wrapper\">\r\n                    <Switch>\r\n                        <Route exact path='/login'\r\n                               render={() => <LoginPage/>}/>\r\n                        <Route path='/profile/:userId?'\r\n                               render={() => <ProfileContainer/>}/>\r\n                        <Route path='/dialogs/:chatId?'\r\n                               render={() => <DialogsContainer/>}/>\r\n                        <Route path='/users'\r\n                               render={() => <UsersContainer/>}/>\r\n                        <Route path='/following'\r\n                               render={() => <FollowContainer type='following'/>}/>\r\n                        <Route path='/followers'\r\n                               render={() => <FollowContainer type='followers'/>}/>\r\n                        <Route exact path='/settings'\r\n                               render={() => <Settings/>}/>\r\n                        <Route path='/news'\r\n                               render={() => <NewsContainer/>}/>\r\n                        <Route path='*'\r\n                               render={() => <ProfileContainer/>}/>\r\n                    </Switch>\r\n                </div>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => ({\r\n    isDynamicBackgroundActivated: state.settings.isDynamicBackgroundActivated\r\n})\r\n\r\nconst AppContainer = compose<React.FC>(withRouter, connect(\r\n    mapStateToProps, { getAuthUserData, toggleBlackTheme, toggleDynamicBackground }))(App)\r\n\r\nconst MainApp: React.FC = () => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default MainApp\r\n","import * as serviceWorker from './serviceWorker'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport MainApp from './App'\r\n\r\nReactDOM.render(<MainApp/>, document.getElementById('root'))\r\n\r\nserviceWorker.unregister()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"style_navbar__1V-Dz\",\"link\":\"style_link__Z2xB7\",\"item\":\"style_item__YKGW-\",\"activeItem\":\"style_activeItem__36YIa\",\"itemLogout\":\"style_itemLogout__2Y6h0\",\"activeLi\":\"style_activeLi__YSQrK\",\"hideOnMobile\":\"style_hideOnMobile__3kuXt\"};"],"sourceRoot":""}